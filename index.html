<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dbljump REST API Reference</title>
    <link rel="shortcut icon" type="image/ico" href="images/favicon.ico">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;JSON&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="JSON">JSON</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>http://api.dbljump.com</p>

<p>Welcome to the DblJump REST API. Dbljump is a video game reference application built with Ruby on Rails 5. This API follows the <a href="http://jsonapi.org">JSON API</a> specification.</p>

<aside class="notice">
All of your requests should include the following HTTP headers. Replace <code>vnum</code> with the API version you want to use (1 is the latest).<br /><br />
<code>Accept:application/vnd.api+json; version='vnum'<br />
Content-Type:application/vnd.api+json; version='vnum'</code></aside>

<aside class="notice">
This API uses <a href="https://jwt.io" target="_blank">JSON web tokens (JWT)</a> for authentication. When your request requires user authentication, it should include the following header replacing <code>user-JWT</code> with the token. For more details, see the user authentication section.<br /><br />
<code>Authorization:Bearer 'user-JWT'</code></aside>

<aside class="notice">
Successful responses include the following HTTP header.<br /><br />
<code>Content-Type:application/vnd.api+json; charset=utf-8</code></aside>

          <h1 id="users">Users</h1>

<p>Resources related to user accounts.</p>

<h3 id="mutable-attributes">Mutable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Required. Must be unique. 2-24 chars. Letters, numbers and underscores only.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Required. Must be unique. Max 255 chars. Email format only. Downcased on save.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Authorization level. Required. Default: <code class="prettyprint">member</code>. See &lsquo;User roles&rsquo; below.</td>
</tr>
<tr>
<td>avatar</td>
<td>string</td>
<td>User picture. Submissions must be base64 encoded. Must be JPG, GIF or PNG. No size limits.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Required on sign-up. 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Required on sign-up or if updating password. Must match <code class="prettyprint">password</code>.</td>
</tr>
<tr>
<td>given_names</td>
<td>string</td>
<td>Any 1-20 chars.</td>
</tr>
<tr>
<td>family_name</td>
<td>string</td>
<td>Any 1-20 chars.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>Any 1-20 chars. Client could suggest &#39;male&rsquo; or &#39;female&rsquo;.</td>
</tr>
<tr>
<td>birthday</td>
<td>date</td>
<td>Format &#39;YYYY-MM-DD&rsquo;. Must not be a future date or &gt; 100 years ago.</td>
</tr>
<tr>
<td>country_id</td>
<td>integer</td>
<td>Must be a valid country record ID.</td>
</tr>
<tr>
<td>avatar_base64</td>
<td>string</td>
<td>Base64 encoded JPEG, GIF or PNG. Any size (needs review).</td>
</tr>
</tbody></table>

<h3 id="format-validation-regular-expressions">Format validation regular expressions</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Ruby</th>
<th>JavaScript</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>/^<a href="w/&amp;#124;.">a-zA-Z0-9</a>*[a-zA-Z0-9]$/</td>
<td>^<a href="\w&amp;#124;\.">a-zA-Z0-9</a>*[a-zA-Z0-9]$</td>
</tr>
<tr>
<td>email</td>
<td>/\A[\w+-.]+@[a-z\d-.]+.[a-z]+\z/i</td>
<td>^[\w+-.]+@[a-z\d-.]+.[a-z]+$</td>
</tr>
</tbody></table>

<h3 id="user-roles">User roles</h3>

<p>Dbljump has three kinds of users, representing three levels of authorization. They are defined by the value of the <code class="prettyprint">role</code> attribute, which has three possible values.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>member</td>
<td>Ordinary users who sign up at Dbljump.com. No special privileges.</td>
</tr>
<tr>
<td>editor</td>
<td>Can edit and create records. Must complete an approval process.</td>
</tr>
<tr>
<td>admin</td>
<td>The highest level of authorization. Can do everything.</td>
</tr>
</tbody></table>

          <h2 id="get-all-users">Get all users</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "3",
      "type": "users",
      "attributes": {
        "email": "member@example.com",
        "username": "member",
        "role": "member",
        "given_names": null,
        "family_name": null,
        "gender": null,
        "avatar": {
          "url": null
        },
        "birthday": null,
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": null,
          "links": {
            "related": "http://api.dbljump.com/places/countries/united-kingdom"
          }
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/3/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/3"
      }
    },
    {
      "id": "4",
      "type": "users",
      "attributes": {
        "email": "editor@example.com",
        "username": "editor",
        "role": "editor",
        "given_names": null,
        "family_name": null,
        "gender": null,
        "avatar": {
          "url": null
        },
        "birthday": null,
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": null,
          "links": {
            "related": "http://api.dbljump.com/places/countries/united-kingdom"
          }
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/4/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/4"
      }
    },
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "email": "tiki@dbljump.com",
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "gender": "Female",
        "avatar": {
          "url": null
        },
        "birthday": "1988-09-01",
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": null,
          "links": {
            "related": "http://api.dbljump.com/places/countries/united-kingdom"
          }
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/1/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    },
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "email": "neil@example.com",
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "gender": "male",
        "avatar": {
          "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703212334.jpg"
        },
        "birthday": "1980-02-14",
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": {
            "id": "219",
            "type": "place_countries"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/united-kingdom"
          }
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/2/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 4
  }
}
</code></pre>
<p>Retrieve all users. Automatically paginated. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /users</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of users per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
</tbody></table>

          <h2 id="get-single-user">Get single user</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2",
    "type": "users",
    "attributes": {
      "email": "neil@example.com",
      "username": "neil",
      "role": "admin",
      "given_names": "Neil",
      "family_name": "Wheatley",
      "gender": "male",
      "avatar": {
        "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703212334.jpg"
      },
      "birthday": "1980-02-14",
      "jwt": null
    },
    "relationships": {
      "country": {
        "data": {
          "id": "219",
          "type": "place_countries"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/united-kingdom"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/2/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/2"
    }
  },
  "meta": {
    "keywords": "neil, neil wheatley, user, dbljump, video games, pc games, gaming",
    "description": "Neil Wheatley is a member at Dbljump, the video game reference.",
    "created_at": "2017-03-21T23:34:54.651Z",
    "updated_at": "2017-03-21T23:47:14.034Z",
    "last_signed_in_at": "2017-03-21T23:47:13.936Z",
    "last_sign_in_ip": "94.4.193.77",
    "sign_in_count": 1,
    "activated_at": "2017-03-21T23:34:53.917Z"
  }
}
</code></pre>
<p>Retrieve a single existing user account record. Any user can retrive their own account. An admin-level user can retrieve any user account.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Any, if retrieving own account. Admin if retriveing other user&rsquo;s account.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /users/&#39;id&#39;</code> (replace <code class="prettyprint">id</code> with user record ID)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right privileges, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="register-a-new-user">Register a new user</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "users",
    "attributes": {
      "username": "new_user",
      "email": "new@user.com",
      "password": "password",
      "password_confirmation": "password"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "users",
    "attributes": {
      "email": "new@user.com",
      "username": "new_user",
      "role": "member",
      "given_names": null,
      "family_name": null,
      "gender": null,
      "avatar": {
        "url": null
      },
      "birthday": null,
      "jwt": null
    },
    "relationships": {
      "country": {
        "data": null,
        "links": {
          "related": "http://api.dbljump.com/places/countries/andorra"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/5/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/5"
    }
  },
  "meta": {
    "keywords": "new_user, new_user, user, dbljump, video games, pc games, gaming",
    "description": "new_user is a member at Dbljump, the video game reference.",
    "created_at": "2017-03-21T23:51:23.213Z",
    "updated_at": "2017-03-21T23:51:23.920Z",
    "last_signed_in_at": null,
    "last_sign_in_ip": null,
    "sign_in_count": 0,
    "activated_at": null
  }
}
</code></pre>
<p>Create a new user account. No authentication is required. Anyone can sign up for a new account with default <code class="prettyprint">role: member</code>.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Required. Must be unique. 2-24 chars. Letters, numbers and underscores only.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Required. Must be unique. Max 255 chars. Email format only. Downcased on save.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Required. Any 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Required. Must match password.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_USERNAME_BLANK</td>
<td>username</td>
<td>Username is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_INVALID</td>
<td>username</td>
<td>Username can only contain letters, numbers, and underscores.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TAKEN</td>
<td>username</td>
<td>Username has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TOO_SHORT</td>
<td>username</td>
<td>Username cannot be less than 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TOO_LONG</td>
<td>username</td>
<td>Username cannot be more than 24 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_BLANK</td>
<td>email</td>
<td>Email is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>Email must be a valid address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_TAKEN</td>
<td>email</td>
<td>Email has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_TOO_LONG</td>
<td>email</td>
<td>Username cannot be more than 255 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_BLANK</td>
<td>password</td>
<td>Password is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_SHORT</td>
<td>password</td>
<td>Password cannot be less than 8 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_LONG</td>
<td>password</td>
<td>Password cannot be more than 24 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_CONFIRMATION_CONFIRMATION</td>
<td>password_confirmation</td>
<td>Password and confirmation must match.</td>
</tr>
</tbody></table>

          <h2 id="update-a-user-account-details">Update a user account details</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
 "data": {
    "type": "users",
    "id": "4",
    "attributes": {
        "email": "updated@email.com",
        "username": "updated_username",
        "password": "newpassword",
        "password_confirmation": "newpassword",
        "role": "editor",
        "given_names": "Updated",
        "family_name": "Name",
        "gender": "male",
        "birthday": "1985-07-20",
        "country_id": 5,
        "avatar_base64": "data:image/gif;base64,R0lGODlhBQAFAIAAAAAAAP///ywAAAAABQAFAAACBIyPqVgAOw=="
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "4",
    "type": "users",
    "attributes": {
      "email": "updated@email.com",
      "username": "updated_username",
      "role": "editor",
      "given_names": "Updated",
      "family_name": "Name",
      "gender": "male",
      "avatar": {
        "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/4/1703212349.gif"
      },
      "birthday": "1985-07-20",
      "jwt": null
    },
    "relationships": {
      "country": {
        "data": {
          "id": "5",
          "type": "place_countries"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/andorra"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/4/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/4"
    }
  },
  "meta": {
    "keywords": "updated_username, updated name, user, dbljump, video games, pc games, gaming",
    "description": "Updated Name is a member at Dbljump, the video game reference.",
    "created_at": "2017-03-21T23:34:55.501Z",
    "updated_at": "2017-03-21T23:49:55.104Z",
    "last_signed_in_at": null,
    "last_sign_in_ip": null,
    "sign_in_count": 0,
    "activated_at": "2017-03-21T23:34:55.419Z"
  }
}
</code></pre>
<p>Update an existing user account. A user can update their own account. An admin can update any other non-admin account.</p>

<p>Admin-level authorization is required to update attributes role.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Any if editing own account. Admin if editing other user&rsquo;s account. Admin-level accounts can only be edited by the account owner.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /users/&#39;id&#39;</code> (replace <code class="prettyprint">id</code> with user record ID)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Required. Must be unique. 2-24 chars. Letters, numbers and underscores only.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Required. Must be unique. Max 255 chars. Email format only. Downcased on save.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Authorization level. Must be &lsquo;member&rsquo;, &#39;editor&rsquo; or &#39;admin&rsquo;. Can only be updated by admin users.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>New password. Any 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Required if changing password. Must match password.</td>
</tr>
<tr>
<td>given_names</td>
<td>string</td>
<td>Any 1-20 chars.</td>
</tr>
<tr>
<td>family_name</td>
<td>string</td>
<td>Any 1-20 chars.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>Any 1-20 chars. Client could suggest &#39;male&rsquo; or &#39;female&rsquo;.</td>
</tr>
<tr>
<td>birthday</td>
<td>date</td>
<td>Format &#39;YYYY-MM-DD&rsquo;. Must not be a future date or &gt; 100 years ago.</td>
</tr>
<tr>
<td>country_id</td>
<td>integer</td>
<td>Must be a valid country record ID.</td>
</tr>
<tr>
<td>avatar_base64</td>
<td>string</td>
<td>Base64 encoded JPEG, GIF or PNG. Any size (needs review).</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_USERNAME_BLANK</td>
<td>username</td>
<td>Username is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_INVALID</td>
<td>username</td>
<td>Username can only contain letters, numbers, and underscores.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TAKEN</td>
<td>username</td>
<td>Username has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TOO_SHORT</td>
<td>username</td>
<td>Username cannot be less than 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TOO_LONG</td>
<td>username</td>
<td>Username cannot be more than 24 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_BLANK</td>
<td>email</td>
<td>Email is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>Email must be a valid address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_TAKEN</td>
<td>email</td>
<td>Email has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_TOO_LONG</td>
<td>email</td>
<td>Username cannot be more than 255 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ROLE_INVALID</td>
<td>role</td>
<td>Role must be &#39;member&rsquo;, &#39;editor&rsquo;, or &#39;admin&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_BLANK</td>
<td>password</td>
<td>Password is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_SHORT</td>
<td>password</td>
<td>Password cannot be less than 8 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_LONG</td>
<td>password</td>
<td>Password cannot be more than 24 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_CONFIRMATION_CONFIRMATION</td>
<td>password_confirmation</td>
<td>Password and confirmation must match.</td>
</tr>
<tr>
<td>400</td>
<td>USER_GIVEN_NAMES_TOO_LONG</td>
<td>given_names</td>
<td>Given name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_FAMILY_NAME_TOO_LONG</td>
<td>family_name</td>
<td>Family name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_GENDER_TOO_LONG</td>
<td>gender</td>
<td>Gender cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_BIRTHDAY_INCLUSION</td>
<td>birthday</td>
<td>Birthday must not be a future date, or over 100 years ago.</td>
</tr>
<tr>
<td>400</td>
<td>USER_COUNTRY_ID_INVALID</td>
<td>country_id</td>
<td>Country must be valid.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="delete-a-user-account">Delete a user account</h2>

<p>Delete an existing user account. A user can delete their own account. An admin can delete any other non-admin account.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Any, if deleting own account. Admin if deleting other user&rsquo;s account. Admin-level accounts can only be deleted by the account owner.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /users/&#39;id&#39;</code> (replace <code class="prettyprint">id</code> with user record ID)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h1 id="users-authentications">Users: authentications</h1>

<p>Resources related to user sign-ins.</p>

<h3 id="json-web-tokens-jwt">JSON web tokens (JWT)</h3>

<p>This API uses <a href="https://jwt.io" target="_blank">JSON web tokens (JWT)</a> for authentication. Sessions are not used.</p>

<p>It works like this:</p>

<ul>
<li>The client sends a user&rsquo;s credentials to the API, and receives a JWT in the response body.</li>
<li>The client stores this JWT and sends it in the HTTP Authorization header with each subsequent request.</li>
<li>When the user signs out, the client stops sending the JWT in the HTTP Authorization header.</li>
</ul>

<h3 id="jwt-payload">JWT payload</h3>

<p>The JWT also has a payload with the following attributes, which the client can decode:</p>

<ul>
<li>user_id</li>
<li>user_role</li>
<li>expiry</li>
</ul>

          <h2 id="sign-in-a-user">Sign in a user</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
 "data": {
    "type": "users",
    "attributes": {
        "email": "neil@example.com",
        "password": "password"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2",
    "type": "users",
    "attributes": {
      "email": "neil@example.com",
      "username": "neil",
      "role": "admin",
      "given_names": "Neil",
      "family_name": "Wheatley",
      "gender": "male",
      "avatar": {
        "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703212334.jpg"
      },
      "birthday": "1980-02-14",
      "jwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyLCJ1c2VyX3JvbGUiOiJhZG1pbiIsImV4cGlyeSI6IjIwMTctMDMtMjIgMjM6NDc6MTQgKzAwMDAifQ.QMT2e25fqh6rEMKWPKojvfYh-WMR-OgUKCyWoLEX-Ms"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "219",
          "type": "place_countries"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/united-kingdom"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/2/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/2"
    }
  },
  "meta": {
    "last_signed_in_at": "2017-03-21T23:47:13.936Z",
    "last_sign_in_ip": "94.4.193.77",
    "sign_in_count": 1,
    "activated_at": "2017-03-21T23:34:53.917Z"
  }
}
</code></pre>
<p>Sign in an existing user. With valid credentials, returns a JSON web token (JWT) used to authenticate user requests.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users/authentications</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email. Required. Max 255 chars. Must be email format.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>The user&rsquo;s password. Required.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_BLANK</td>
<td>email</td>
<td>Email is required.</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td>USER_CREDENTIALS_INVALID</td>
<td>-</td>
<td>User not authorized.</td>
<td>Invalid email and password combination.</td>
</tr>
</tbody></table>

          <h1 id="users-activations">Users: activations</h1>

<p>Resources related to user account activations.</p>

<h3 id="how-activations-work">How activations work</h3>

<p>A new user cannot sign in until they activate their account. Activations work like this:</p>

<ol>
<li>When a user signs up for a new account, they receive an email with a link they must follow to activate their account.</li>
<li>The link contains an activation token and the user&rsquo;s email. Clicking the link passes these to the API.</li>
<li>On successful activation, the API sets the user attribute <code class="prettyprint">activated_at</code> to the current time, and returns a JWT the client can use to sign in the activated user.</li>
<li>If the user loses their activation email/link, or if it has expired, they can request a new one.</li>
</ol>

          <h2 id="send-a-new-activation-email">Send a new activation email</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_activations",
    "attributes": {
      "email": "user@example.com"
    }
  }
}

</code></pre>
<p>Send a new account activation link by email to a user&rsquo;s registered email address.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users/activations</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email address.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>User not found.</td>
<td>Invalid email address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ALREADY_ACTIVATED</td>
<td>email</td>
<td>Cannot activate user.</td>
<td>User already activated.</td>
</tr>
</tbody></table>

          <h2 id="activate-a-user-account">Activate a user account</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_activations",
    "id": "G2MnBqMJVF43tffPmKrmnw",
    "attributes": {
      "email": "user@example.com"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "users",
    "attributes": {
      "email": "user@example.com",
      "username": "new_user",
      "role": "member",
      "given_names": null,
      "family_name": null,
      "gender": null,
      "avatar": {
        "url": null
      },
      "birthday": null,
      "jwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1LCJ1c2VyX3JvbGUiOiJtZW1iZXIiLCJleHBpcnkiOiIyMDE3LTAzLTIyIDIzOjU1OjMyICswMDAwIn0.WqLjZkgyEh3Trv2U9q2PDBkbY4toWPJx02zbqTSn540"
    },
    "relationships": {
      "country": {
        "data": null,
        "links": {
          "related": "http://api.dbljump.com/places/countries/andorra"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/5/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/5"
    }
  },
  "meta": {
    "last_signed_in_at": null,
    "last_sign_in_ip": null,
    "sign_in_count": 0,
    "activated_at": "2017-03-21T23:55:32.873Z"
  }
}
</code></pre>
<p>Activate a user account. This endpoint should be triggered by an activation link sent to the user by email.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /users/activations/&#39;activation_token&#39;</code> (replace <code class="prettyprint">activation_token</code> with the user&rsquo;s activation token)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>User activation token. Provided by the activation link.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email. Provided by the activation link.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_ACTIVATION_INVALID</td>
<td>N/A</td>
<td>Cannot activate user.</td>
<td>Invalid user or activation token.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ALREADY_ACTIVATED</td>
<td>email</td>
<td>Cannot activate user.</td>
<td>User already activated.</td>
</tr>
</tbody></table>

          <h1 id="users-passwords">Users: passwords</h1>

<p>Resources related to user passwords.</p>

<p>If a user needs a new password, they can:</p>

<ul>
<li>Enter their registered email address and receive a password-reset link by email</li>
<li>Set a new password after clicking the password-reset email</li>
</ul>

          <h2 id="request-a-password-reset-link">Request a password-reset link</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_passwords",
    "attributes": {
      "email": "user@example.com"
    }
  }
}
</code></pre>
<p>A user can request an email with a link to reset their password.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users/passwords</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email. Required. Max 255 chars. Must be email format.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>User not found.</td>
<td>Invalid email address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ACTIVATION_REQUIRED</td>
<td>email</td>
<td>User activation required.</td>
<td>User not yet activated.</td>
</tr>
</tbody></table>

          <h2 id="set-a-new-user-password">Set a new user password</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_passwords",
    "id": "Bml5G2MnBqMJVFacD243tffPmKrmnwX",
    "attributes": {
      "email": "user@example.com",
      "password": "new_password",
      "password_confirmation": "new_password"
    }
  }
}
</code></pre>
<p>A user can set a new password after following a reset-password link. The reset token in the link expires after 2 hours.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /users/passwords/&#39;password_reset_token&#39;</code> (replace <code class="prettyprint">password_reset_token</code> with the password reset token)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The password reset token, available in the password reset link URL. Required.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email address, available in the password reset link URL. Required.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>New password. Required. Any 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Required. Must match password.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>User not found.</td>
<td>Invalid email address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ACTIVATION_REQUIRED</td>
<td>email</td>
<td>User activation required.</td>
<td>User not yet activated.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOKEN_INVALID</td>
<td>password_reset_token</td>
<td>Cannot reset user password.</td>
<td>Password reset token invalid.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOKEN_EXPIRED</td>
<td>password_reset_token</td>
<td>Cannot reset user password.</td>
<td>Password reset token expired.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_BLANK</td>
<td>password</td>
<td>Password is required.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_SHORT</td>
<td>password</td>
<td>Password cannot be less than 8 characters.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_LONG</td>
<td>password</td>
<td>Password cannot be more than 24 characters.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_CONFIRMATION_CONFIRMATION</td>
<td>password_confirmation</td>
<td>Password and confirmation must match.</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="images"><a name="images_intro"></a>Images</h1>

<p>Resources related to images.</p>

<p>An image record includes the URL of an image stored on Amazon S3, plus metadata about the image. An image can be associated with many articles.</p>

<h3 id="mutable-attributes"><a name="image_attrs"></a>Mutable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>string (base64)</td>
<td>Image file encoded as base64. Req&rsquo;d. See <a href="#image_file">File</a> section below.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Req&rsquo;d. Must be &lsquo;art&rsquo;, &#39;doc&rsquo;, &#39;photo&rsquo;, or &#39;screen&rsquo;.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Req&rsquo;d. A subcategory related to the given type. See <a href="#image_kind">Kind</a> section below.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Req&rsquo;d. Max 100 chars.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Max 250 chars.</td>
</tr>
<tr>
<td>year</td>
<td>integer</td>
<td>1800 to present year.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>1800-01-01 to present year.</td>
</tr>
<tr>
<td>place_id</td>
<td>belongs_to</td>
<td>Must be valid place ID.</td>
</tr>
<tr>
<td>usage_type</td>
<td>string</td>
<td>Must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;. See <a href="#image_usage_type">Usage type</a> section.</td>
</tr>
<tr>
<td>usage_license_code</td>
<td>string</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. See <a href="#image_usage_license">Usage license</a> section.</td>
</tr>
<tr>
<td>attributed_name</td>
<td>string</td>
<td>Image owner&rsquo;s name. Max 100 chars. Req&rsquo;d if usage_type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>attributed_url</td>
<td>string</td>
<td>The owner&rsquo;s website. Max 250 chars.</td>
</tr>
<tr>
<td>source_url</td>
<td>string</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. Max 250 chars. URL of image source.</td>
</tr>
</tbody></table>

<h3 id="file"><a name="image_file"></a>File</h3>

<p><strong>File type:</strong> File uploads must be of type GIF, JPG/JPEG, or PNG.</p>

<p><strong>Base64:</strong> Image file uploads are handled by the Ruby gems <a href="https://github.com/carrierwaveuploader/carrierwave">CarrierWave</a> and <a href="https://github.com/lebedev-yury/carrierwave-base64">Carrierwave::Base64</a>. If the image is encoded as Base64, it should have <a href="https://github.com/lebedev-yury/carrierwave-base64#data-format">the correct data format</a>, i.e.:</p>

<p><code class="prettyprint">data:image/jpeg;base64,(base64 encoded data)</code></p>

<h3 id="kind"><a name="image_kind"></a>Kind</h3>

<p>The <code class="prettyprint">kind</code> attribute is a subcategory of <code class="prettyprint">type</code>. Acceptable values are shown below.</p>

<table><thead>
<tr>
<th>Type</th>
<th>Acceptable kind values</th>
</tr>
</thead><tbody>
<tr>
<td>art</td>
<td>boxart, logo, poster, production, uncategorized</td>
</tr>
<tr>
<td>doc</td>
<td>publication, slides, text, uncategorized</td>
</tr>
<tr>
<td>photo</td>
<td>event, likeness, place, product, uncategorized</td>
</tr>
<tr>
<td>screen</td>
<td>credits, gameplay, title, uncategorized</td>
</tr>
</tbody></table>

<h3 id="usage-type"><a name="image_usage_type"></a>Usage type</h3>

<p>Users should only upload images that can legally be shown on Dbljump.com. An image must therefore have one of three <code class="prettyprint">usage_type</code> values.</p>

<table><thead>
<tr>
<th>Usage type</th>
<th>usage_type value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Free</td>
<td>free</td>
<td>The image is in the public domain.</td>
</tr>
<tr>
<td>Fair use</td>
<td>fair</td>
<td>The image can be used under US fair use law.</td>
</tr>
<tr>
<td>Licensed</td>
<td>licensed</td>
<td>The image is free to use with some-rights-reserved license, e.g. Creative Commons.</td>
</tr>
</tbody></table>

<h3 id="usage-license"><a name="image_usage_license"></a>Usage license</h3>

<p>If <code class="prettyprint">usage_type</code> is set to <code class="prettyprint">licensed</code>, a valid image license code must be provided. Acceptable values are below.</p>

<table><thead>
<tr>
<th>usage_license_code</th>
<th>License name</th>
<th>License URL</th>
</tr>
</thead><tbody>
<tr>
<td>cc_by_2_0</td>
<td>Creative Commons Attribution 2.0</td>
<td>https://creativecommons.org/licenses/by/2.0</td>
</tr>
<tr>
<td>cc_by_2_5</td>
<td>Creative Commons Attribution 2.5</td>
<td>https://creativecommons.org/licenses/by/2.5/</td>
</tr>
<tr>
<td>cc_by_sa_2_0</td>
<td>Creative Commons Attribution-ShareAlike 2.0</td>
<td>https://creativecommons.org/licenses/by-sa/2.0</td>
</tr>
<tr>
<td>cc_by_nd_2_0</td>
<td>Creative Commons Attribution-NoDerivs 2.0</td>
<td>http://creativecommons.org/licenses/by-nd/2.0/</td>
</tr>
<tr>
<td>cc_by_3_0</td>
<td>Creative Commons Attribution 3.0</td>
<td>https://creativecommons.org/licenses/by/3.0/</td>
</tr>
<tr>
<td>cc_by_sa_3_0</td>
<td>Creative Commons Attribution-ShareAlike 3.0</td>
<td>https://creativecommons.org/licenses/by-sa/3.0</td>
</tr>
<tr>
<td>cc_by_nd_3_0</td>
<td>Creative Commons Attribution-NoDerivs 3.0</td>
<td>http://creativecommons.org/licenses/by-nd/3.0</td>
</tr>
<tr>
<td>cc_by_4_0</td>
<td>Creative Commons Attribution 4.0</td>
<td>https://creativecommons.org/licenses/by/4.0</td>
</tr>
<tr>
<td>cc_by_sa_4_0</td>
<td>Creative Commons Attribution-ShareAlike 4.0</td>
<td>https://creativecommons.org/licenses/by-sa/4.0</td>
</tr>
<tr>
<td>cc_by_nd_4_0</td>
<td>Creative Commons Attribution-NoDerivs 4.0</td>
<td>http://creativecommons.org/licenses/by-nd/4.0</td>
</tr>
</tbody></table>

          <h2 id="get-all-images">Get all images</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "1",
      "type": "image_photos",
      "attributes": {
        "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/1/nintendo-hq-kyoto-2006.jpg",
        "type": "Image::Photo",
        "kind": "uncategorized",
        "title": "Nintendo office",
        "description": "Head Quarters of Nintendo, Minami-ku, Kyoto, Japan. The picture was taken by the poster in February, 2006.",
        "year": 2006,
        "date": "2006-02-18",
        "usage_type": "licensed",
        "usage_license_code": "cc_by_sa_3_0",
        "usage_license_name": "Creative Commons Attribution-ShareAlike 3.0",
        "usage_license_url": "https://creativecommons.org/licenses/by-sa/3.0",
        "attributed_name": "Moja~commonswiki",
        "attributed_url": "",
        "source_url": "https://en.wikipedia.org/wiki/Nintendo#/media/File:Nintendo_office.jpg",
        "slug": "nintendo-office-2006-uncategorized-moja-commonswiki"
      },
      "relationships": {
        "uploaded_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        },
        "place": {
          "data": null
        }
      },
      "links": {
        "self": "http://api.dbljump.com/images/nintendo-office-2006-uncategorized-moja-commonswiki"
      }
    },
    {
      "id": "2",
      "type": "image_photos",
      "attributes": {
        "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/2/mario-figure.jpg",
        "type": "Image::Photo",
        "kind": "uncategorized",
        "title": "Mario figure",
        "description": "",
        "year": 2016,
        "date": "2016-07-30",
        "usage_type": "free",
        "usage_license_code": null,
        "usage_license_name": null,
        "usage_license_url": null,
        "attributed_name": null,
        "attributed_url": null,
        "source_url": "",
        "slug": "mario-figure-2016-uncategorized"
      },
      "relationships": {
        "uploaded_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        },
        "place": {
          "data": null
        }
      },
      "links": {
        "self": "http://api.dbljump.com/images/mario-figure-2016-uncategorized"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 2
  }
}
</code></pre>
<p>Retrieve all images. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /images</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-image">Get single image</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "1",
    "type": "image_photos",
    "attributes": {
      "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/1/nintendo-hq-kyoto-2006.jpg",
      "type": "Image::Photo",
      "kind": "uncategorized",
      "title": "Nintendo office",
      "description": "Head Quarters of Nintendo, Minami-ku, Kyoto, Japan. The picture was taken by the poster in February, 2006.",
      "year": 2006,
      "date": "2006-02-18",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_sa_3_0",
      "usage_license_name": "Creative Commons Attribution-ShareAlike 3.0",
      "usage_license_url": "https://creativecommons.org/licenses/by-sa/3.0",
      "attributed_name": "Moja~commonswiki",
      "attributed_url": "",
      "source_url": "https://en.wikipedia.org/wiki/Nintendo#/media/File:Nintendo_office.jpg",
      "slug": "nintendo-office-2006-uncategorized-moja-commonswiki"
    },
    "relationships": {
      "uploaded_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      },
      "place": {
        "data": null
      }
    },
    "links": {
      "self": "http://api.dbljump.com/images/nintendo-office-2006-uncategorized-moja-commonswiki"
    }
  },
  "meta": {
    "keywords": "nintendo office, 2006, 2006-02-18, moja~commonswiki, photo, false, image, picture, media, dbljump, video games, pc games, gaming",
    "description": "'Nintendo office' is a video game image at Dbljump.",
    "created_at": "2017-03-08T17:37:22.384Z",
    "updated_at": "2017-03-08T17:37:22.384Z"
  }
}
</code></pre>
<p>Retrieve a single image record. Images are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /images/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with image record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="upload-a-new-image">Upload a new image</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "images",
    "attributes": {
      "file": "data:image/gif;base64,R0lGODlhBQAFAIAAAAAAAP///ywAAAAABQAFAAACBIyPqVgAOw==",
      "type": "Image::Photo",
      "kind": "likeness",
      "title": "Portrait of Takashi Tezuka",
      "description": "Takashi Tezuka in Kyoto on 2nd February 2017.",
      "year": "",
      "date": "2017-02-02",
      "place_id": "1",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_4_0",
      "attributed_name": "Jonny Snapper",
      "attributed_url": "http://www.jonnys-game-pics.com",
      "source_url": "http://www.jonnys-game-pics.com/tezuka.jpg"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "3",
    "type": "image_photos",
    "attributes": {
      "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/3/file.gif",
      "type": "Image::Photo",
      "kind": "likeness",
      "title": "Portrait of Takashi Tezuka",
      "description": "Takashi Tezuka in Kyoto on 2nd February 2017.",
      "year": 2017,
      "date": "2017-02-02",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_4_0",
      "usage_license_name": "Creative Commons Attribution 4.0",
      "usage_license_url": "https://creativecommons.org/licenses/by/4.0",
      "attributed_name": "Jonny Snapper",
      "attributed_url": "http://www.jonnys-game-pics.com",
      "source_url": "http://www.jonnys-game-pics.com/tezuka.jpg",
      "slug": "portrait-of-takashi-tezuka-2017-likeness-jonny-snapper"
    },
    "relationships": {
      "uploaded_by": {
        "data": {
          "id": "5",
          "type": "users"
        }
      },
      "place": {
        "data": {
          "id": "1",
          "type": "place_countries"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/images/portrait-of-takashi-tezuka-2017-likeness-jonny-snapper"
    }
  },
  "meta": {
    "keywords": "portrait of takashi tezuka, 2017, 2017-02-02, jonny snapper, photo, likeness, image, picture, media, dbljump, video games, pc games, gaming",
    "description": "'Portrait of Takashi Tezuka' is a video game image at Dbljump.",
    "created_at": "2017-03-08T20:33:17.449Z",
    "updated_at": "2017-03-08T20:33:17.449Z"
  }
}
</code></pre>
<p>Upload a new image. User must be an editor.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /images</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>string (base64)</td>
<td>Image file encoded as base64. Req&rsquo;d. See <a href="#image_file">File</a>.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Req&rsquo;d. Must be &lsquo;Image::Art&rsquo;, &#39;Image::Doc&rsquo;, &#39;Image::Photo&rsquo;, or &#39;Image::Screen&rsquo;.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Req&rsquo;d. A subcategory related to the given type. See <a href="#image_kind">Kind</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Req&rsquo;d. Max 100 chars.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Max 250 chars.</td>
</tr>
<tr>
<td>year</td>
<td>integer</td>
<td>1800 to present year.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>1800-01-01 to present year.</td>
</tr>
<tr>
<td>place_id</td>
<td>belongs_to</td>
<td>Must be valid place ID.</td>
</tr>
<tr>
<td>usage_type</td>
<td>string</td>
<td>Must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;. See <a href="#image_usage_type">Usage type</a>.</td>
</tr>
<tr>
<td>usage_license_code</td>
<td>string</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. See <a href="#image_usage_license">Usage license</a>.</td>
</tr>
<tr>
<td>attributed_name</td>
<td>string</td>
<td>Image owner&rsquo;s name. Max 100 chars. Req&rsquo;d if usage_type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>attributed_url</td>
<td>string</td>
<td>The owner&rsquo;s website. Max 250 chars.</td>
</tr>
<tr>
<td>source_url</td>
<td>string</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. Max 250 chars. URL of image source.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<aside class="notice">Actual error codes may include the image sub-class, e.g. 'IMAGE_SCREEN_FILE_BLANK&rsquo;</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>IMAGE_FILE_BLANK</td>
<td>file</td>
<td>File is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TITLE_BLANK</td>
<td>title</td>
<td>Title is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TITLE_TOO_LONG</td>
<td>title</td>
<td>Title cannot be more than 100 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_DESCRIPTION_TOO_LONG</td>
<td>description</td>
<td>Description cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TYPE_BLANK</td>
<td>type</td>
<td>Type is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TYPE_INCLUSION</td>
<td>type</td>
<td>Type must be &#39;Image::Art&rsquo;, &#39;Image::Doc&rsquo;, &#39;Image::Photo&rsquo; or &#39;Image::Screen&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_KIND_BLANK</td>
<td>kind</td>
<td>Kind is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_KIND_INCLUSION</td>
<td>kind</td>
<td>Kind must be a valid value for this image type.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_YEAR_INCLUSION</td>
<td>year</td>
<td>Year must be between 1800 and the present year.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_DATE_INCLUSION</td>
<td>year</td>
<td>Date must be between 1 January 1800 and the present date.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_TYPE_BLANK</td>
<td>usage_type</td>
<td>Usage type is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_TYPE_INCLUSION</td>
<td>usage_type</td>
<td>Usage type must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_NAME_BLANK</td>
<td>attributed_name</td>
<td>Attributed name is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_NAME_TOO_LONG</td>
<td>attributed_name</td>
<td>Attributed name cannot be more than 100 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_URL_TOO_LONG</td>
<td>attributed_url</td>
<td>Attributed URL cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SOURCE_URL_BLANK</td>
<td>source_url</td>
<td>Source url is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SOURCE_URL_TOO_LONG</td>
<td>source_url</td>
<td>Source url cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_LICENSE_CODE_BLANK</td>
<td>usage_license_code</td>
<td>Usage license code is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_LICENSE_CODE_INCLUSION</td>
<td>usage_license_code</td>
<td>Usage license code must be valid.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
</tbody></table>

          <h2 id="update-an-image-record">Update an image record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "images",
    "id": "portrait-of-takashi-tezuka-2017-likeness-jonny-snapper",
    "attributes": {
      "type": "Image::Screen",
      "kind": "gameplay",
      "title": "New Title",
      "description": "New description.",
      "year": "",
      "date": "2000-01-01",
      "place_id": "3",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_3_0",
      "attributed_name": "New Attributed Name",
      "attributed_url": "http://www.new-site.com",
      "source_url": "http://www.new-site/new-file.jpg"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "1",
    "type": "image_photos",
    "attributes": {
      "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/1/nintendo-hq-kyoto-2006.jpg",
      "type": "Image::Photo",
      "kind": "uncategorized",
      "title": "New Title",
      "description": "New description.",
      "year": 2000,
      "date": "2000-01-01",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_3_0",
      "usage_license_name": "Creative Commons Attribution 3.0",
      "usage_license_url": "https://creativecommons.org/licenses/by/3.0/",
      "attributed_name": "New Attributed Name",
      "attributed_url": "http://www.new-site.com",
      "source_url": "http://www.new-site/new-file.jpg",
      "slug": "nintendo-office-2006-uncategorized-moja-commonswiki"
    },
    "relationships": {
      "uploaded_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      },
      "place": {
        "data": {
          "id": "3",
          "type": "place_countries"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/images/nintendo-office-2006-uncategorized-moja-commonswiki"
    }
  },
  "meta": {
    "keywords": "new title, 2000, 2000-01-01, new attributed name, photo, false, image, picture, media, dbljump, video games, pc games, gaming",
    "description": "'New Title' is a video game image at Dbljump.",
    "created_at": "2017-03-08T17:37:22.384Z",
    "updated_at": "2017-03-08T20:31:44.725Z"
  }
}
</code></pre>
<p>Update an existing image record. The user must be an editor.</p>

<p>The <code class="prettyprint">file</code> attribute cannot be updated. A new image file can only be uploaded with a new image record.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: editor</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /images/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with image record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Req&rsquo;d. Must be &lsquo;art&rsquo;, &#39;doc&rsquo;, &#39;photo&rsquo;, or &#39;screen&rsquo;.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Req&rsquo;d. A subcategory related to the given type. See <a href="#image_kind">Kind</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Req&rsquo;d. Max 100 chars.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Max 250 chars.</td>
</tr>
<tr>
<td>year</td>
<td>integer</td>
<td>1800 to present year.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>1800-01-01 to present year.</td>
</tr>
<tr>
<td>place_id</td>
<td>belongs_to</td>
<td>Must be valid place ID.</td>
</tr>
<tr>
<td>usage_type</td>
<td>string</td>
<td>Must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;. See <a href="#image_usage_type">Usage type</a>.</td>
</tr>
<tr>
<td>usage_license_code</td>
<td>string</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. See <a href="#image_usage_license">Usage license</a>.</td>
</tr>
<tr>
<td>attributed_name</td>
<td>string</td>
<td>Image owner&rsquo;s name. Max 100 chars. Req&rsquo;d if usage_type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>attributed_url</td>
<td>string</td>
<td>The owner&rsquo;s website. Max 250 chars.</td>
</tr>
<tr>
<td>source_url</td>
<td>string</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. Max 250 chars. URL of image source.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<aside class="notice">Actual error codes may include the image sub-class, e.g. 'IMAGE_SCREEN_FILE_BLANK&rsquo;</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>IMAGE_FILE_ACCEPTED</td>
<td>file</td>
<td>File cannot be updated.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TITLE_BLANK</td>
<td>title</td>
<td>Title is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TITLE_TOO_LONG</td>
<td>title</td>
<td>Title cannot be more than 100 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_DESCRIPTION_TOO_LONG</td>
<td>description</td>
<td>Description cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TYPE_BLANK</td>
<td>type</td>
<td>Type is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TYPE_INCLUSION</td>
<td>type</td>
<td>Type must be &#39;Image::Art&rsquo;, &#39;Image::Doc&rsquo;, &#39;Image::Photo&rsquo; or &#39;Image::Screen&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_KIND_BLANK</td>
<td>kind</td>
<td>Kind is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_KIND_INCLUSION</td>
<td>kind</td>
<td>Kind must be a valid value for this image type.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_YEAR_INCLUSION</td>
<td>year</td>
<td>Year must be between 1800 and the present year.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_DATE_INCLUSION</td>
<td>year</td>
<td>Date must be between 1 January 1800 and the present date.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_TYPE_BLANK</td>
<td>usage_type</td>
<td>Usage type is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_TYPE_INCLUSION</td>
<td>usage_type</td>
<td>Usage type must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_NAME_BLANK</td>
<td>attributed_name</td>
<td>Attributed name is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_NAME_TOO_LONG</td>
<td>attributed_name</td>
<td>Attributed name cannot be more than 100 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_URL_TOO_LONG</td>
<td>attributed_url</td>
<td>Attributed URL cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SOURCE_URL_BLANK</td>
<td>source_url</td>
<td>Source url is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SOURCE_URL_TOO_LONG</td>
<td>source_url</td>
<td>Source url cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_LICENSE_CODE_BLANK</td>
<td>usage_license_code</td>
<td>Usage license code is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_LICENSE_CODE_INCLUSION</td>
<td>usage_license_code</td>
<td>Usage license code must be valid.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="delete-an-image-record">Delete an image record</h2>

<p>Delete an existing image record. An editor can delete images they uploaded. An admin can delete any image.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Editor to delete own images. Admin to delete any image.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /images/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with image record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h1 id="places"><a name="places_intro"></a>Places</h1>

<p>Resources related to places.</p>

<p>Places includes all place records. This includes <a href="#regions_intro">regions</a> (i.e. groups of countries), <a href="#countries_intro">countries</a>, <a href="#subdivs_intro">subdivisions</a> (e.g. states and counties), and <a href="#localities_intro">localities</a> (e.g. cities and towns).</p>

<p><a href="#regions_intro">Region</a>, <a href="#countries_intro">country</a>, <a href="#subdivs_intro">subdivision</a>, and <a href="#localities_intro">locality</a> records must be created, updated, and deleted via their own model-specific routes.</p>

          <h2 id="get-all-places">Get all places</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "1",
      "type": "place_countries",
      "attributes": {
        "slug": "afghanistan",
        "iso_code": "AF",
        "short_name": null,
        "name": "Afghanistan",
        "also_known_as": [],
        "nationality": "Afghan",
        "currency": null,
        "longitude": 65,
        "latitude": 33,
        "created_at": "2017-03-08T17:33:22.884Z",
        "updated_at": "2017-03-08T17:33:22.884Z"
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/afghanistan"
      }
    },
    {
      "id": "2",
      "type": "place_countries",
      "attributes": {
        "slug": "albania",
        "iso_code": "AL",
        "short_name": null,
        "name": "Albania",
        "also_known_as": [],
        "nationality": "Albanian",
        "currency": null,
        "longitude": 20,
        "latitude": 41,
        "created_at": "2017-03-08T17:33:22.932Z",
        "updated_at": "2017-03-08T17:33:22.932Z"
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/albania"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places?page%5Bnumber%5D=1&amp;page%5Bsize%5D=30",
    "next": "http://api.dbljump.com/places?page%5Bnumber%5D=2&amp;page%5Bsize%5D=30",
    "last": "http://api.dbljump.com/places?page%5Bnumber%5D=98&amp;page%5Bsize%5D=30"
  },
  "meta": {
    "total_items": 2
  }
}
</code></pre>
<p>Retrieve all places. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-place">Get single place</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2894",
    "type": "place_localities",
    "attributes": {
      "name": "Austin",
      "formatted": "Austin, Texas, United States",
      "also_known_as": [],
      "latitude": null,
      "longitude": null
    },
    "relationships": {
      "subdivision": {
        "data": {
          "id": "2599",
          "type": "place_subdivisions"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/austin-texas-united-states",
      "subdivision": "http://api.dbljump.com/places/subdivisions/texas-united-states",
      "country": "http://api.dbljump.com/places/countries/united-states"
    }
  },
  "meta": {
    "keywords": "austin, texas, united states, city, town, place, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Austin, Texas, United States at Dbljump.",
    "created_at": "2017-03-08T17:37:15.372Z",
    "updated_at": "2017-03-08T17:37:15.372Z"
  }
}
</code></pre>
<p>Retrieve a single place record. Places are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with place record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="places-countries"><a name="countries_intro"></a>Places: countries</h1>

<p>Resources related to geographic countries.</p>

<h3 id="mutable-attributes"><a name="country_attrs"></a>Mutable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. Unique. 2-250 chars. English-language common name, e.g. &lsquo;United States&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Req&rsquo;d. Unique. 2 chars. ISO 3166-1 country code.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Must be 3 chars. ISO 4217 currency code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td>2-30 chars.</td>
</tr>
</tbody></table>

          <h2 id="get-all-countries">Get all countries</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "232",
      "type": "place_countries",
      "attributes": {
        "slug": "zimbabwe",
        "iso_code": "ZW",
        "short_name": null,
        "name": "Zimbabwe",
        "also_known_as": [],
        "nationality": "Zimbabwean",
        "currency": null,
        "longitude": 30,
        "latitude": -20,
        "created_at": "2017-03-08T17:33:40.884Z",
        "updated_at": "2017-03-08T17:33:40.884Z"
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/zimbabwe"
      }
    },
    {
      "id": "231",
      "type": "place_countries",
      "attributes": {
        "slug": "zambia",
        "iso_code": "ZM",
        "short_name": null,
        "name": "Zambia",
        "also_known_as": [],
        "nationality": "Zambian",
        "currency": null,
        "longitude": 30,
        "latitude": -15,
        "created_at": "2017-03-08T17:33:40.824Z",
        "updated_at": "2017-03-08T17:33:40.824Z"
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/zambia"
      }
    },
    {
      "id": "230",
      "type": "place_countries",
      "attributes": {
        "slug": "yemen",
        "iso_code": "YE",
        "short_name": null,
        "name": "Yemen",
        "also_known_as": [],
        "nationality": "Yemeni",
        "currency": null,
        "longitude": 48,
        "latitude": 15,
        "created_at": "2017-03-08T17:33:40.755Z",
        "updated_at": "2017-03-08T17:33:40.755Z"
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/yemen"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/countries?page%5Bnumber%5D=1&amp;page%5Bsize%5D=30",
    "next": "http://api.dbljump.com/places/countries?page%5Bnumber%5D=2&amp;page%5Bsize%5D=30",
    "last": "http://api.dbljump.com/places/countries?page%5Bnumber%5D=8&amp;page%5Bsize%5D=30"
  },
  "meta": {
    "total_items": 232
  }
}
</code></pre>
<p>Retrieve all countries. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/countries</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-country">Get single country</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "220",
    "type": "place_countries",
    "attributes": {
      "slug": "united-states",
      "iso_code": "US",
      "short_name": "USA",
      "name": "United States",
      "also_known_as": [],
      "nationality": "American",
      "currency": null,
      "longitude": -97,
      "latitude": 38,
      "created_at": "2017-03-08T17:33:40.235Z",
      "updated_at": "2017-03-08T17:33:40.235Z"
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/countries/united-states"
    }
  },
  "meta": {
    "keywords": "united states, usa, us, american, country, place, country, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from United States at Dbljump.",
    "created_at": "2017-03-08T17:33:40.235Z",
    "updated_at": "2017-03-08T17:33:40.235Z"
  }
}
</code></pre>
<p>Retrieve a single country record. Countries are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/countries/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with country record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="create-a-new-country-record">Create a new country record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_countries",
    "attributes": {
      "name": "New Country",
      "iso_code": "NC",
      "short_name": "NewC",
      "also_known_as": ["That New Country", "The New Place"],
      "latitude": "88.27",
      "longitude": "-150.55",
      "currency": "NCY",
      "nationality": "New Countryfolk"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2937",
    "type": "place_countries",
    "attributes": {
      "slug": "new-country",
      "iso_code": "NC",
      "short_name": "NewC",
      "name": "New Country",
      "also_known_as": [
        "That New Country",
        "The New Place"
      ],
      "nationality": "New Countryfolk",
      "currency": "NCY",
      "longitude": -150.55,
      "latitude": 88.27,
      "created_at": "2017-03-10T15:27:13.797Z",
      "updated_at": "2017-03-10T15:27:13.797Z"
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "3",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/countries/new-country"
    }
  }
}
</code></pre>
<p>Create a new country record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/countries</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. Unique. 2-250 chars. English-language common name, e.g. &lsquo;United States&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Req&rsquo;d. Unique. 2 chars. ISO 3166-1 country code.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Must be 3 chars. ISO 4217 currency code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td>2-30 chars.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a country with that name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TAKEN</td>
<td>short_name</td>
<td>There&rsquo;s already a country with that short name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TOO_SHORT</td>
<td>short_name</td>
<td>Short name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TOO_LONG</td>
<td>short_name</td>
<td>Short name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_BLANK</td>
<td>iso_code</td>
<td>ISO code is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TAKEN</td>
<td>iso_code</td>
<td>There&rsquo;s already a country with that ISO code.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TOO_SHORT</td>
<td>iso_code</td>
<td>ISO code must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TOO_LONG</td>
<td>iso_code</td>
<td>ISO code cannot be more than 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NATIONALITY_TOO_SHORT</td>
<td>nationality</td>
<td>Nationality must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NATIONALITY_TOO_LONG</td>
<td>nationality</td>
<td>Nationality cannot be more than 30 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_CURRENCY_TOO_SHORT</td>
<td>currency</td>
<td>Currency must be at least 3 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_CURRENCY_TOO_LONG</td>
<td>currency</td>
<td>Currency cannot be more than 3 characters.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
</tbody></table>

          <h2 id="update-a-country-record">Update a country record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_countries",
    "id": "andorra",
    "attributes": {
      "name": "Updated Country",
      "iso_code": "UP",
      "short_name": "Updated",
      "also_known_as": ["Edited Country", "Renamed Country"],
      "latitude": "5.0",
      "longitude": "10.0",
      "currency": "UPD",
      "nationality": "Updatedfolk"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "place_countries",
    "attributes": {
      "slug": "updated-country",
      "iso_code": "UP",
      "short_name": "Updated",
      "name": "Updated Country",
      "also_known_as": [
        "Edited Country",
        "Renamed Country"
      ],
      "nationality": "Updatedfolk",
      "currency": "UPD",
      "longitude": 10,
      "latitude": 5,
      "created_at": "2017-03-08T17:33:23.051Z",
      "updated_at": "2017-03-10T17:17:07.482Z"
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/countries/updated-country"
    }
  }
}
</code></pre>
<p>Update an existing country record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/countries/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with country record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. Unique. 2-250 chars. English-language common name, e.g. &lsquo;United States&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Req&rsquo;d. Unique. 2 chars. ISO 3166-1 country code.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Must be 3 chars. ISO 4217 currency code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td>2-30 chars.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a country with that name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TAKEN</td>
<td>short_name</td>
<td>There&rsquo;s already a country with that short name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TOO_SHORT</td>
<td>short_name</td>
<td>Short name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TOO_LONG</td>
<td>short_name</td>
<td>Short name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_BLANK</td>
<td>iso_code</td>
<td>ISO code is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TAKEN</td>
<td>iso_code</td>
<td>There&rsquo;s already a country with that ISO code.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TOO_SHORT</td>
<td>iso_code</td>
<td>ISO code must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TOO_LONG</td>
<td>iso_code</td>
<td>ISO code cannot be more than 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NATIONALITY_TOO_SHORT</td>
<td>nationality</td>
<td>Nationality must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NATIONALITY_TOO_LONG</td>
<td>nationality</td>
<td>Nationality cannot be more than 30 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_CURRENCY_TOO_SHORT</td>
<td>currency</td>
<td>Currency must be at least 3 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_CURRENCY_TOO_LONG</td>
<td>currency</td>
<td>Currency cannot be more than 3 characters.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="delete-a-country-record">Delete a country record</h2>

<p>Delete an existing country record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/countries/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with country record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="country-subdivisions-get-all">Country subdivisions - get all</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "504",
      "type": "place_subdivisions",
      "attributes": {
        "name": "Australian Capital Territory",
        "formatted": "Australian Capital Territory, Australia",
        "latitude": -35.4734679,
        "longitude": 149.0123679,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://localhost:3000/users/1"
          }
        },
        "country": {
          "data": {
            "id": "12",
            "type": "place_countries"
          },
          "links": {
            "related": "http://localhost:3000/places/countries/australia"
          }
        },
        "localities": {
          "data": []
        }
      },
      "links": {
        "self": "http://localhost:3000/places/subdivisions/australian-capital-territory-australia"
      }
    },
    {
      "id": "815",
      "type": "place_subdivisions",
      "attributes": {
        "name": "Christmas Island",
        "formatted": "Christmas Island, Australia",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://localhost:3000/users/1"
          }
        },
        "country": {
          "data": {
            "id": "12",
            "type": "place_countries"
          },
          "links": {
            "related": "http://localhost:3000/places/countries/australia"
          }
        },
        "localities": {
          "data": []
        }
      },
      "links": {
        "self": "http://localhost:3000/places/subdivisions/christmas-island-australia"
      }
    },
    {
      "id": "834",
      "type": "place_subdivisions",
      "attributes": {
        "name": "Cocos (Keeling) Islands",
        "formatted": "Cocos (Keeling) Islands, Australia",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://localhost:3000/users/1"
          }
        },
        "country": {
          "data": {
            "id": "12",
            "type": "place_countries"
          },
          "links": {
            "related": "http://localhost:3000/places/countries/australia"
          }
        },
        "localities": {
          "data": []
        }
      },
      "links": {
        "self": "http://localhost:3000/places/subdivisions/cocos-keeling-islands-australia"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 13
  }
}
</code></pre>
<p>Retrieve all subdivisions belonging to the given country. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/&#39;country_slug&#39;/subdivisions</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="country-subdivisions-create-new">Country subdivisions - create new</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_subdivisions",
    "attributes": {
      "name": "New Subdivision",
      "also_known_as": ["That New Subdiv", "The New Subdiv"],
      "latitude": "17.85",
      "longitude": "-20.00"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2938",
    "type": "place_subdivisions",
    "attributes": {
      "name": "New Subdivision",
      "formatted": "New Subdivision, Afghanistan",
      "latitude": 17.85,
      "longitude": -20,
      "also_known_as": [
        "That New Subdiv",
        "The New Subdiv"
      ]
    },
    "relationships": {
      "country": {
        "data": {
          "id": "1",
          "type": "place_countries"
        }
      },
      "created_by": {
        "data": {
          "id": "3",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/new-subdivision-afghanistan",
      "country": "http://api.dbljump.com/places/countries/afghanistan"
    }
  }
}
</code></pre>
<p>Create a new subdivision record belonging to the given country. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/countries/&#39;country-slug&#39;/subdivisions</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<aside class="notice"><code>parent_id</code> refers to <code>country_id</code> in these errors.</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_PARENT_ID_BLANK</td>
<td>parent_id</td>
<td>Country ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a subdivision with that name and parent country.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h1 id="places-subdivisions"><a name="subdivs_intro"></a>Places: subdivisions</h1>

<p>Resources related to geographic subdivisions (e.g. states and counties).</p>

<h3 id="mutable-attributes"><a name="subdivision_attrs"></a>Mutable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country_id</td>
<td>integer</td>
<td>Req&rsquo;d. ID of parent country.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

          <h2 id="get-all-subdivisions">Get all subdivisions</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "240",
      "type": "place_subdivisions",
      "attributes": {
        "name": "All",
        "formatted": "All, Niue",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "country": {
          "data": {
            "id": "151",
            "type": "place_countries"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/0-niue",
        "country": "http://api.dbljump.com/places/countries/niue"
      }
    },
    {
      "id": "241",
      "type": "place_subdivisions",
      "attributes": {
        "name": "All",
        "formatted": "All, Curaao",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "country": {
          "data": {
            "id": "53",
            "type": "place_countries"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/0-curacao",
        "country": "http://api.dbljump.com/places/countries/curacao"
      }
    },
    {
      "id": "242",
      "type": "place_subdivisions",
      "attributes": {
        "name": "All",
        "formatted": "All, Bermuda",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "country": {
          "data": {
            "id": "23",
            "type": "place_countries"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/0-bermuda",
        "country": "http://api.dbljump.com/places/countries/bermuda"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/subdivisions?page%5Bnumber%5D=1&amp;page%5Bsize%5D=30",
    "next": "http://api.dbljump.com/places/subdivisions?page%5Bnumber%5D=2&amp;page%5Bsize%5D=30",
    "last": "http://api.dbljump.com/places/subdivisions?page%5Bnumber%5D=89&amp;page%5Bsize%5D=30"
  },
  "meta": {
    "total_items": 2641
  }
}
</code></pre>
<p>Retrieve all subdivisions. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/subdivisions</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-subdivision">Get single subdivision</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2599",
    "type": "place_subdivisions",
    "attributes": {
      "name": "Texas",
      "formatted": "Texas, United States",
      "latitude": 31.9685988,
      "longitude": -99.9018131,
      "also_known_as": []
    },
    "relationships": {
      "country": {
        "data": {
          "id": "220",
          "type": "place_countries"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/texas-united-states",
      "country": "http://api.dbljump.com/places/countries/united-states"
    }
  },
  "meta": {
    "keywords": "texas, united states, state, county, place, state, county, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Texas, United States at Dbljump.",
    "created_at": "2017-03-08T17:36:44.379Z",
    "updated_at": "2017-03-08T17:36:44.379Z"
  }
}
</code></pre>
<p>Retrieve a single subdivision record. Subdivisions are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/subdivisions/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with subdivision record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="create-a-new-subdivision-record">Create a new subdivision record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_subdivisions",
    "attributes": {
      "country_id": "1",
      "name": "New Subdivision",
      "also_known_as": ["That New Subdiv", "The New Subdiv"],
      "latitude": "17.85",
      "longitude": "-20.00"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2938",
    "type": "place_subdivisions",
    "attributes": {
      "name": "New Subdivision",
      "formatted": "New Subdivision, Afghanistan",
      "latitude": 17.85,
      "longitude": -20,
      "also_known_as": [
        "That New Subdiv",
        "The New Subdiv"
      ]
    },
    "relationships": {
      "country": {
        "data": {
          "id": "1",
          "type": "place_countries"
        }
      },
      "created_by": {
        "data": {
          "id": "3",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/new-subdivision-afghanistan",
      "country": "http://api.dbljump.com/places/countries/afghanistan"
    }
  }
}
</code></pre>
<p>Create a new subdivision record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/subdivisions</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country_id</td>
<td>integer</td>
<td>Req&rsquo;d. ID of parent country.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<aside class="notice"><code>parent_id</code> refers to <code>country_id</code> in these errors.</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_PARENT_ID_BLANK</td>
<td>parent_id</td>
<td>Country ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_COUNTRY_ID_INVALID</td>
<td>country_id</td>
<td>Country ID must be a valid country record.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a subdivision with that name and parent country.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
</tbody></table>

          <h2 id="update-a-subdivision-record">Update a subdivision record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_subdivisions",
    "id": "north-puerto-rico",
    "attributes": {
      "country_id": "10",
      "name": "Updated Subdivision",
      "also_known_as": ["Updated Subdiv", "Changed Subdiv"],
      "latitude": "3.0",
      "longitude": "-25.00"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "269",
    "type": "place_subdivisions",
    "attributes": {
      "name": "Updated Subdivision",
      "formatted": "Updated Subdivision, Armenia",
      "latitude": 3,
      "longitude": -25,
      "also_known_as": [
        "Updated Subdiv",
        "Changed Subdiv"
      ]
    },
    "relationships": {
      "country": {
        "data": {
          "id": "10",
          "type": "place_countries"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/updated-subdivision-armenia",
      "country": "http://api.dbljump.com/places/countries/armenia"
    }
  }
}
</code></pre>
<p>Update an existing subdivision record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/subdivisions/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with subdivision record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country_id</td>
<td>integer</td>
<td>Req&rsquo;d. ID of parent country.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
</tbody></table>

<aside class="notice"><code>country_id</code> may also appear as <code>parent_id</code> in these errors.</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_PARENT_ID_BLANK</td>
<td>parent_id</td>
<td>Country ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_COUNTRY_ID_INVALID</td>
<td>parent_id</td>
<td>Country ID must be a valid country record.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a subdivision with that name and parent country.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="delete-a-subdivision-record">Delete a subdivision record</h2>

<p>Delete an existing subdivision record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/subdivisions/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with subdivision record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h1 id="places-localities"><a name="localities_intro"></a>Places: localities</h1>

<p>Resources related to geographic localities (e.g. cities and towns).</p>

<h3 id="mutable-attributes"><a name="locality_attrs"></a>Mutable attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdivision_id</td>
<td>integer</td>
<td>Req&rsquo;d. ID of parent subdivision.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Los Angeles&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;LA&#39;, &#39;City of Angels&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

          <h2 id="get-all-localities">Get all localities</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2936",
      "type": "place_localities",
      "attributes": {
        "name": "Matsumoto",
        "formatted": "Matsumoto, Nagano Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "subdivision": {
          "data": {
            "id": "1795",
            "type": "place_subdivisions"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/matsumoto-nagano-prefecture-japan",
        "subdivision": "http://api.dbljump.com/places/subdivisions/nagano-prefecture-japan",
        "country": "http://api.dbljump.com/places/countries/japan"
      }
    },
    {
      "id": "2935",
      "type": "place_localities",
      "attributes": {
        "name": "Nagano",
        "formatted": "Nagano, Nagano Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "subdivision": {
          "data": {
            "id": "1795",
            "type": "place_subdivisions"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/nagano-nagano-prefecture-japan",
        "subdivision": "http://api.dbljump.com/places/subdivisions/nagano-prefecture-japan",
        "country": "http://api.dbljump.com/places/countries/japan"
      }
    },
    {
      "id": "2934",
      "type": "place_localities",
      "attributes": {
        "name": "Sapporo",
        "formatted": "Sapporo, Hokkaido Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "subdivision": {
          "data": {
            "id": "1232",
            "type": "place_subdivisions"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/sapporo-hokkaido-prefecture-japan",
        "subdivision": "http://api.dbljump.com/places/subdivisions/hokkaido-prefecture-japan",
        "country": "http://api.dbljump.com/places/countries/japan"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/localities?page%5Bnumber%5D=1&amp;page%5Bsize%5D=30",
    "next": "http://api.dbljump.com/places/localities?page%5Bnumber%5D=2&amp;page%5Bsize%5D=30",
    "last": "http://api.dbljump.com/places/localities?page%5Bnumber%5D=2&amp;page%5Bsize%5D=30"
  },
  "meta": {
    "total_items": 56
  }
}
</code></pre>
<p>Retrieve all localities. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/localities</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-locality">Get single locality</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2894",
    "type": "place_localities",
    "attributes": {
      "name": "Austin",
      "formatted": "Austin, Texas, United States",
      "also_known_as": [],
      "latitude": null,
      "longitude": null
    },
    "relationships": {
      "subdivision": {
        "data": {
          "id": "2599",
          "type": "place_subdivisions"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/austin-texas-united-states",
      "subdivision": "http://api.dbljump.com/places/subdivisions/texas-united-states",
      "country": "http://api.dbljump.com/places/countries/united-states"
    }
  },
  "meta": {
    "keywords": "austin, texas, united states, city, town, place, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Austin, Texas, United States at Dbljump.",
    "created_at": "2017-03-08T17:37:15.372Z",
    "updated_at": "2017-03-08T17:37:15.372Z"
  }
}
</code></pre>
<p>Retrieve a single locality record. Localities are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/localities/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with locality record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="create-a-new-locality-record">Create a new locality record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_localities",
    "attributes": {
      "subdivision_id": "1000",
      "name": "New City",
      "also_known_as": ["That New City", "The New Locality"],
      "latitude": "81.3",
      "longitude": "-45.9"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2939",
    "type": "place_localities",
    "attributes": {
      "name": "New City",
      "formatted": "New City, Enugu, Nigeria",
      "also_known_as": [
        "That New City",
        "The New Locality"
      ],
      "latitude": 81.3,
      "longitude": -45.9
    },
    "relationships": {
      "subdivision": {
        "data": {
          "id": "1000",
          "type": "place_subdivisions"
        }
      },
      "created_by": {
        "data": {
          "id": "3",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/new-city-enugu-nigeria",
      "subdivision": "http://api.dbljump.com/places/subdivisions/enugu-nigeria",
      "country": "http://api.dbljump.com/places/countries/nigeria"
    }
  }
}
</code></pre>
<p>Create a new locality record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/localities</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdivision_id</td>
<td>integer</td>
<td>Req&rsquo;d. ID of parent subdivision.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Los Angeles&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;LA&#39;, &#39;City of Angels&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_PARENT_ID_BLANK</td>
<td>parent_id</td>
<td>Subdivision ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_SUBDIVISION_ID_INVALID</td>
<td>parent_id</td>
<td>Subdivision ID must be a valid subdivision record.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a locality with that name and parent subdivision.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
</tbody></table>

          <h2 id="update-a-locality-record">Update a locality record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_localities",
    "id": "matsumoto-nagano-prefecture-japan",
    "attributes": {
      "subdivision_id": "1001",
      "name": "Updated City",
      "also_known_as": ["Updated City", "Changed Locality"],
      "latitude": "24.0",
      "longitude": "89.5"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2936",
    "type": "place_localities",
    "attributes": {
      "name": "Updated City",
      "formatted": "Updated City, Epirus, Greece",
      "also_known_as": [
        "Updated City",
        "Changed Locality"
      ],
      "latitude": 24,
      "longitude": 89.5
    },
    "relationships": {
      "subdivision": {
        "data": {
          "id": "1001",
          "type": "place_subdivisions"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/updated-city-epirus-greece",
      "subdivision": "http://api.dbljump.com/places/subdivisions/epirus-greece",
      "country": "http://api.dbljump.com/places/countries/greece"
    }
  }
}
</code></pre>
<p>Update an existing locality record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/localities/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with locality record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdivision_id</td>
<td>integer</td>
<td>Req&rsquo;d. ID of parent subdivision.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Req&rsquo;d. 2-250 chars. English-language common name, e.g. &lsquo;Los Angeles&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;LA&#39;, &#39;City of Angels&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_PARENT_ID_BLANK</td>
<td>parent_id</td>
<td>Subdivision ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_SUBDIVISION_ID_INVALID</td>
<td>parent_id</td>
<td>Subdivision ID must be a valid subdivision record.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a locality with that name and parent subdivision.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user doesn&rsquo;t have the right permissions, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h2 id="delete-a-locality-record">Delete a locality record</h2>

<p>Delete an existing locality record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/localities/&#39;slug&#39;</code> (replace <code class="prettyprint">slug</code> with locality record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>The user isn&rsquo;t an admin, or there&rsquo;s an authentication problem.</td>
</tr>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

          <h1 id="places-regions"><a name="regions_intro"></a>Places: regions</h1>

<p>Resources related to geographic regions (groups of countries).</p>

<aside class="notice">Docs will be written when the regions controller is done.</aside>

          
          
          
          
          
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="JSON">JSON</a>
          </div>
      </div>
    </div>
  </body>
</html>
