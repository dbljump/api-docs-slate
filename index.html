<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dbljump REST API Reference</title>
    <link rel="shortcut icon" type="image/ico" href="images/favicon.ico">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;JSON&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="JSON">JSON</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the DblJump REST API. Dbljump is a video game reference application built with Ruby on Rails 5. This API follows the <a href="http://jsonapi.org">JSON API</a> specification.</p>

<aside class="notice">
All of your requests should include the following HTTP headers. Replace <code>vnum</code> with the API version you want to use (1 is the latest).<br /><br />
<code>Accept:application/vnd.api+json; version='vnum'<br />
Content-Type:application/vnd.api+json; version='vnum'</code></aside>

<aside class="notice">
This API uses <a href="https://jwt.io" target="_blank">JSON web tokens (JWT)</a> for authentication. When your request requires user authentication, it should include the following header replacing <code>user-JWT</code> with the token. For more details, see the user authentication section.<br /><br />
<code>Authorization:Bearer 'user-JWT'</code></aside>

<aside class="notice">
Successful responses include the following HTTP header.<br /><br />
<code>Content-Type:application/vnd.api+json; charset=utf-8</code></aside>

          <h1 id="users"><a name="users_intro"></a>Users</h1>

<p>Resources related to user accounts.</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#users_create">Register a new user</a> and <a href="#users_update">Update a user account details</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#users_show">Get single user</a>.</p>

          <h2 id="get-all-users">Get all users</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "email": "tiki@dbljump.com",
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "gender": "Female",
        "avatar": null,
        "birthday": "1988-09-01",
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": null
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/1/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    },
    {
      "id": "3",
      "type": "users",
      "attributes": {
        "email": "member@example.com",
        "username": "member",
        "role": "member",
        "given_names": null,
        "family_name": null,
        "gender": null,
        "avatar": null,
        "birthday": null,
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": null
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/3/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/3"
      }
    },
    {
      "id": "4",
      "type": "users",
      "attributes": {
        "email": "editor@example.com",
        "username": "editor",
        "role": "editor",
        "given_names": null,
        "family_name": null,
        "gender": null,
        "avatar": null,
        "birthday": null,
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": null
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/4/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/4"
      }
    },
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "email": "neil@example.com",
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "gender": "male",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg",
        "birthday": "1980-02-14",
        "jwt": null
      },
      "relationships": {
        "country": {
          "data": {
            "id": "219",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/united-kingdom"
          }
        },
        "images": {
          "links": {
            "related": "http://api.dbljump.com/users/2/images"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 4
  }
}
</code></pre>
<p>Retrieve all users. Automatically paginated. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /users</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of users per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-user"><a name="users_show"></a>Get single user</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2",
    "type": "users",
    "attributes": {
      "email": "neil@example.com",
      "username": "neil",
      "role": "admin",
      "given_names": "Neil",
      "family_name": "Wheatley",
      "gender": "male",
      "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg",
      "birthday": "1980-02-14",
      "jwt": null
    },
    "relationships": {
      "country": {
        "data": {
          "id": "219",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/united-kingdom"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/2/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/2"
    }
  },
  "included": [
    {
      "id": "219",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "united-kingdom",
        "name": "United Kingdom",
        "short_name": "UK",
        "formatted": "United Kingdom"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/united-kingdom"
      }
    }
  ],
  "meta": {
    "keywords": "neil, neil wheatley, user, dbljump, video games, pc games, gaming",
    "description": "Neil Wheatley is a member at Dbljump, the video game reference.",
    "created_at": "2017-03-30T12:40:08.338Z",
    "updated_at": "2017-03-30T12:43:40.490Z",
    "last_signed_in_at": "2017-03-30T12:43:39.368Z",
    "last_sign_in_ip": "86.12.129.15",
    "sign_in_count": 1,
    "activated_at": "2017-03-30T12:40:07.621Z"
  }
}
</code></pre>
<p>Retrieve a single existing user account record. Any user can retrive their own account. An admin-level user can retrieve any user account.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Any, if retrieving own account. Admin if retriveing other user&rsquo;s account.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /users/{id}</code> (replace <code class="prettyprint">{id}</code> with user record ID)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="user_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Y</td>
<td>The user&rsquo;s registered email address.</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Y</td>
<td>The user&rsquo;s registered username.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Y</td>
<td>Authorization role. Can be <code class="prettyprint">member</code>, <code class="prettyprint">editor</code> or <code class="prettyprint">admin</code>. See <a href="#user_role">Role</a>.</td>
</tr>
<tr>
<td>given_names</td>
<td>string</td>
<td></td>
<td>The user&rsquo;s given names, e.g. &lsquo;Jean Pierre&rsquo;.</td>
</tr>
<tr>
<td>family_name</td>
<td>string</td>
<td></td>
<td>The user&rsquo;s family name, e.g. &#39;Blanc&rsquo;.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td></td>
<td>Usually <code class="prettyprint">male</code> or <code class="prettyprint">female</code>, but can be any string.</td>
</tr>
<tr>
<td>avatar</td>
<td>string</td>
<td></td>
<td>URL of the user&rsquo;s avatar image.</td>
</tr>
<tr>
<td>birthday</td>
<td>date</td>
<td></td>
<td>E.g. &#39;1977-12-19&rsquo;</td>
</tr>
<tr>
<td>jwt</td>
<td>string</td>
<td></td>
<td>Always <code class="prettyprint">null</code> for this endpoint.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>country</td>
<td>places(countries)</td>
<td>belongs_to</td>
</tr>
<tr>
<td>images</td>
<td>images</td>
<td>has_many</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>places(countries)</td>
<td>country</td>
<td>subtype, slug, name, short_name, formatted</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, <code class="prettyprint">last_signed_in_at</code>, <code class="prettyprint">last_sign_in_ip</code>, <code class="prettyprint">sign_in_count</code> and <code class="prettyprint">activated_at</code> attributes.</p>

          <h2 id="register-a-new-user"><a name="users_create"></a>Register a new user</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "users",
    "attributes": {
      "username": "new_user",
      "email": "new@user.com",
      "password": "password",
      "password_confirmation": "password"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "users",
    "attributes": {
      "email": "new@user.com",
      "username": "new_user",
      "role": "member",
      "given_names": null,
      "family_name": null,
      "gender": null,
      "avatar": null,
      "birthday": null,
      "jwt": null
    },
    "relationships": {
      "country": {
        "data": null,
        "links": {
          "related": "http://api.dbljump.com/places/countries/united-kingdom"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/5/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/5"
    }
  },
  "meta": {
    "keywords": "new_user, new_user, user, dbljump, video games, pc games, gaming",
    "description": "new_user is a member at Dbljump, the video game reference.",
    "created_at": "2017-03-30T12:46:04.648Z",
    "updated_at": "2017-03-30T12:46:05.293Z",
    "last_signed_in_at": null,
    "last_sign_in_ip": null,
    "sign_in_count": 0,
    "activated_at": null
  }
}
</code></pre>
<p>Create a new user account. No authentication is required. Anyone can sign up for a new account with the default <code class="prettyprint">role</code> of <code class="prettyprint">member</code>.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Y</td>
<td>Must be unique. 2-24 chars. Letters, numbers and underscores only. See <a href="#user_username">Username</a>.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Y</td>
<td>Must be unique. Max 255 chars. Email format only. Downcased on save. See <a href="#user_email">Email</a>.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Y</td>
<td>Any 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Y</td>
<td>Must match password.</td>
</tr>
</tbody></table>

<h3 id="username"><a name="user_username"></a>Username</h3>

<p>Usernames must be unique, 2-24 chars, and include letters, numbers and underscores only. They must match the following regular expressions.</p>

<table><thead>
<tr>
<th>Language</th>
<th>Regular expression</th>
</tr>
</thead><tbody>
<tr>
<td>Ruby</td>
<td>/^<a href="w/&amp;#124;.">a-zA-Z0-9</a>*[a-zA-Z0-9]$/</td>
</tr>
<tr>
<td>JavaScript</td>
<td>^<a href="\w&amp;#124;\.">a-zA-Z0-9</a>*[a-zA-Z0-9]$</td>
</tr>
</tbody></table>

<h3 id="email"><a name="user_email"></a>Email</h3>

<p>Email addresses must be unique, no moe than 255 chars, and be in a valid email format. They must match the following regular expressions.</p>

<table><thead>
<tr>
<th>Language</th>
<th>Regular expression</th>
</tr>
</thead><tbody>
<tr>
<td>Ruby</td>
<td>/\A[\w+-.]+@[a-z\d-.]+.[a-z]+\z/i</td>
</tr>
<tr>
<td>JavaScript</td>
<td>^[\w+-.]+@[a-z\d-.]+.[a-z]+$</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-a-user-account-details"><a name="users_update"></a>Update a user account details</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
 "data": {
    "type": "users",
    "id": "5",
    "attributes": {
        "email": "updated@email.com",
        "username": "updated_username",
        "password": "newpassword",
        "password_confirmation": "newpassword",
        "role": "editor",
        "given_names": "Updated",
        "family_name": "Name",
        "gender": "male",
        "birthday": "1985-07-20",
        "base64_file": "data:image/gif;base64,R0lGODlhBQAFAIAAAAAAAP///ywAAAAABQAFAAACBIyPqVgAOw==",
      "remove_avatar": "false"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "5",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "users",
    "attributes": {
      "email": "updated@email.com",
      "username": "updated_username",
      "role": "editor",
      "given_names": "Updated",
      "family_name": "Name",
      "gender": "male",
      "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/5/1703301248.gif",
      "birthday": "1985-07-20",
      "jwt": null
    },
    "relationships": {
      "country": {
        "data": {
          "id": "5",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/andorra"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/5/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/5"
    }
  },
  "included": [
    {
      "id": "5",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "andorra",
        "name": "Andorra",
        "short_name": null,
        "formatted": "Andorra"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/andorra"
      }
    }
  ],
  "meta": {
    "keywords": "updated_username, updated name, user, dbljump, video games, pc games, gaming",
    "description": "Updated Name is a member at Dbljump, the video game reference.",
    "created_at": "2017-03-30T12:46:04.648Z",
    "updated_at": "2017-03-30T12:48:40.380Z",
    "last_signed_in_at": null,
    "last_sign_in_ip": null,
    "sign_in_count": 0,
    "activated_at": null
  }
}
</code></pre>
<p>Update an existing user account. A user can update their own account. An admin can update any other non-admin account.</p>

<p>Admin-level authorization is required to update attributes role.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Any if editing own account. Admin if editing other user&rsquo;s account. Admin-level accounts can only be edited by the account owner.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /users/{id}</code> (replace <code class="prettyprint">{id}</code> with user record ID)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Y</td>
<td>Must be unique. 2-24 chars. Letters, numbers and underscores only. See <a href="#user_username">Username</a>.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Y</td>
<td>Must be unique. Max 255 chars. Email format only. Downcased on save. See <a href="#user_email">Email</a>.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td></td>
<td>Authorization level. Defaults to <code class="prettyprint">member</code>. Can only be updated by admin users. See <a href="#user_role">Role</a>.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Y</td>
<td>New password. Any 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Y</td>
<td>Required if changing password. Must match password.</td>
</tr>
<tr>
<td>given_names</td>
<td>string</td>
<td></td>
<td>Any 1-20 chars.</td>
</tr>
<tr>
<td>family_name</td>
<td>string</td>
<td></td>
<td>Any 1-20 chars.</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td></td>
<td>Any 1-20 chars. Client could suggest &lsquo;male&rsquo; or &#39;female&rsquo;.</td>
</tr>
<tr>
<td>birthday</td>
<td>date</td>
<td></td>
<td>Format &#39;YYYY-MM-DD&rsquo;. Must not be a future date or &gt; 100 years ago.</td>
</tr>
<tr>
<td>base64_file</td>
<td>string</td>
<td></td>
<td>Base64 encoded JPEG, GIF or PNG. Any size (needs review). Use to upload <code class="prettyprint">avatar</code>.</td>
</tr>
<tr>
<td>remove_avatar</td>
<td>boolean</td>
<td></td>
<td>Set as true to remove the avatar.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country</td>
<td>belongs_to</td>
<td></td>
<td>places</td>
<td>A <a href="#countries_intro">country record</a>, e.g. the user&rsquo;s birth country.</td>
</tr>
</tbody></table>

<h3 id="role"><a name="user_role"></a>Role</h3>

<p>Dbljump has three kinds of users, representing three levels of authorization. They are defined by the value of the <code class="prettyprint">role</code> attribute, which has three possible values.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>member</td>
<td>Ordinary users who sign up at Dbljump.com. No special privileges.</td>
</tr>
<tr>
<td>editor</td>
<td>Can edit and create records. Must complete an approval process.</td>
</tr>
<tr>
<td>admin</td>
<td>The highest level of authorization. Can do everything.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-a-user-account">Delete a user account</h2>

<p>Delete an existing user account. A user can delete their own account. An admin can delete any other non-admin account.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Any, if deleting own account. Admin if deleting other user&rsquo;s account. Admin-level accounts can only be deleted by the account owner.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /users/{id}</code> (replace <code class="prettyprint">{id}</code> with user record ID)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="user-images-get-all">User images: get all</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2",
      "type": "images",
      "attributes": {
        "subtype": "photos",
        "slug": "mario-figure-2016-uncategorized",
        "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/2/mario-figure.jpg",
        "kind": "uncategorized",
        "title": "Mario figure",
        "description": "",
        "year": 2016,
        "date": "2016-07-30",
        "usage_type": "free",
        "usage_license_code": null,
        "usage_license_name": null,
        "usage_license_url": null,
        "attributed_name": null,
        "attributed_url": null,
        "source_url": ""
      },
      "relationships": {
        "uploaded_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "place": {
          "data": null
        }
      },
      "links": {
        "self": "http://api.dbljump.com/images/mario-figure-2016-uncategorized"
      }
    },
    {
      "id": "1",
      "type": "images",
      "attributes": {
        "subtype": "photos",
        "slug": "nintendo-office-2006-uncategorized-moja-commonswiki",
        "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/1/nintendo-hq-kyoto-2006.jpg",
        "kind": "uncategorized",
        "title": "Nintendo office",
        "description": "Head Quarters of Nintendo, Minami-ku, Kyoto, Japan. The picture was taken by the poster in February, 2006.",
        "year": 2006,
        "date": "2006-02-18",
        "usage_type": "licensed",
        "usage_license_code": "cc_by_sa_3_0",
        "usage_license_name": "Creative Commons Attribution-ShareAlike 3.0",
        "usage_license_url": "https://creativecommons.org/licenses/by-sa/3.0",
        "attributed_name": "Moja~commonswiki",
        "attributed_url": "",
        "source_url": "https://en.wikipedia.org/wiki/Nintendo#/media/File:Nintendo_office.jpg"
      },
      "relationships": {
        "uploaded_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "place": {
          "data": null
        }
      },
      "links": {
        "self": "http://api.dbljump.com/images/nintendo-office-2006-uncategorized-moja-commonswiki"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 2
  }
}
</code></pre>
<p>Retrieve all images uploaded by the given user. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /users/{user_id}/images</code> (replace <code class="prettyprint">{user_id}</code> with country record slug)</p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="errors">Errors</h2>

<p>Errors specific to registering, updating and authenticating user accounts.</p>

<h3 id="post-and-patch-errors">POST and PATCH errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_USERNAME_BLANK</td>
<td>username</td>
<td>Username is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_INVALID</td>
<td>username</td>
<td>Username can only contain letters, numbers, and underscores.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TAKEN</td>
<td>username</td>
<td>Username has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TOO_SHORT</td>
<td>username</td>
<td>Username cannot be less than 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_USERNAME_TOO_LONG</td>
<td>username</td>
<td>Username cannot be more than 24 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_BLANK</td>
<td>email</td>
<td>Email is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>Email must be a valid address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_TAKEN</td>
<td>email</td>
<td>Email has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>USER_EMAIL_TOO_LONG</td>
<td>email</td>
<td>Username cannot be more than 255 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ROLE_INVALID</td>
<td>role</td>
<td>Role must be &lsquo;member&rsquo;, &#39;editor&rsquo;, or &#39;admin&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_BLANK</td>
<td>password</td>
<td>Password is required.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_SHORT</td>
<td>password</td>
<td>Password cannot be less than 8 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_LONG</td>
<td>password</td>
<td>Password cannot be more than 24 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_CONFIRMATION_CONFIRMATION</td>
<td>password_confirmation</td>
<td>Password and confirmation must match.</td>
</tr>
<tr>
<td>400</td>
<td>USER_GIVEN_NAMES_TOO_LONG</td>
<td>given_names</td>
<td>Given name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_FAMILY_NAME_TOO_LONG</td>
<td>family_name</td>
<td>Family name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_GENDER_TOO_LONG</td>
<td>gender</td>
<td>Gender cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>USER_BIRTHDAY_INCLUSION</td>
<td>birthday</td>
<td>Birthday must not be a future date, or over 100 years ago.</td>
</tr>
<tr>
<td>400</td>
<td>USER_COUNTRY_ID_INVALID</td>
<td>relationships/country/data/id</td>
<td>Country must be valid.</td>
</tr>
<tr>
<td>400</td>
<td>USER_BASE64_FILE_INVALID</td>
<td>base64_file</td>
<td>Base64 file must be in the correct format.</td>
</tr>
</tbody></table>

<h3 id="authentication-errors">Authentication errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_CREDENTIALS_INVALID</td>
<td>-</td>
<td>User not authorized.</td>
</tr>
</tbody></table>

          <h1 id="users-authentications">Users: authentications</h1>

<p>Resources related to user sign-ins.</p>

<h3 id="json-web-tokens-jwt">JSON web tokens (JWT)</h3>

<p>This API uses stateless <a href="https://jwt.io" target="_blank">JSON web tokens (JWT)</a> for authentication. Sessions are not used.</p>

<p>It works like this:</p>

<ol>
<li>The client sends a user&rsquo;s valid credentials to the API, and receives a JWT in the response body.</li>
<li>The client stores this JWT and sends it in the HTTP <code class="prettyprint">Authorization</code> header with each subsequent request.</li>
<li>To sign out the user, the client simply stops sending the JWT in the HTTP <code class="prettyprint">Authorization</code> header.</li>
</ol>

<h3 id="jwt-payload">JWT payload</h3>

<p>The JWT has a payload with the following attributes, which the client can decode:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>The user record ID.</td>
</tr>
<tr>
<td>user_role</td>
<td>Used for authorization. Can be <code class="prettyprint">member</code>, <code class="prettyprint">editor</code> or <code class="prettyprint">admin</code>. Also see <a href="#user_role">Role</a>.</td>
</tr>
<tr>
<td>expiry</td>
<td>Date and time of expiry.</td>
</tr>
</tbody></table>

          <h2 id="sign-in-a-user">Sign in a user</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
 "data": {
    "type": "users",
    "attributes": {
        "email": "neil@example.com",
        "password": "password",
      "remember_me": "true"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2",
    "type": "users",
    "attributes": {
      "email": "neil@example.com",
      "username": "neil",
      "role": "admin",
      "given_names": "Neil",
      "family_name": "Wheatley",
      "gender": "male",
      "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg",
      "birthday": "1980-02-14",
      "jwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyLCJ1c2VyX3JvbGUiOiJhZG1pbiIsImV4cGlyeSI6IjIwMTctMDQtMjkgMTI6NTU6MTggKzAwMDAifQ.OL6jcolUQtB-lJy5_d8iisobc_Dqyi35b2Dkxs69lhw"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "219",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/united-kingdom"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/2/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/2"
    }
  },
  "included": [
    {
      "id": "219",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "united-kingdom",
        "name": "United Kingdom",
        "short_name": "UK",
        "formatted": "United Kingdom"
      },
      "links": {
        "self": "http://localhost:3000/places/countries/united-kingdom"
      }
    }
  ],
  "meta": {
    "last_signed_in_at": "2017-03-30T12:55:18.073Z",
    "last_sign_in_ip": "86.12.129.15",
    "sign_in_count": 2,
    "activated_at": "2017-03-30T12:40:07.621Z"
  }
}
</code></pre>
<p>Sign in an existing user. With valid credentials, returns a JSON web token (JWT) used to authenticate user requests.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users/authentications</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Y</td>
<td>The user&rsquo;s registered email. Max 255 chars. Must be email format.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Y</td>
<td>The user&rsquo;s password.</td>
</tr>
<tr>
<td>remember_me</td>
<td>boolean</td>
<td></td>
<td>JWT authentication token expires in 30 days if <code class="prettyprint">true</code>, 1 day if <code class="prettyprint">false</code>. Defaults to <code class="prettyprint">false</code>.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes">Response attributes</h3>

<p>See the table in <a href="#users_show">Get single user</a> for all attribute details.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jwt</td>
<td>string</td>
<td>Y</td>
<td>The JSON web token used for authentication. Should be added to the HTTP <code class="prettyprint">Authorization</code> header in further requests until user is signed out.</td>
</tr>
</tbody></table>

          <h1 id="users-activations">Users: activations</h1>

<p>Resources related to user account activations.</p>

<h3 id="how-activations-work">How activations work</h3>

<p>A new user cannot sign in until they activate their account. Activations work like this:</p>

<ol>
<li>When a user signs up for a new account, they receive an email with a link they must follow to activate their account.</li>
<li>The link contains an activation token and the user&rsquo;s email. Clicking the link passes these to the API.</li>
<li>On successful activation, the API sets the user attribute <code class="prettyprint">activated_at</code> to the current time, and returns a JWT the client can use to sign in the activated user.</li>
<li>If the user loses their activation email/link, or if it has expired, they can request a new one.</li>
</ol>

          <h2 id="send-a-new-activation-email">Send a new activation email</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_activations",
    "attributes": {
      "email": "user@example.com"
    }
  }
}

</code></pre>
<p>Send a new account activation link by email to a user&rsquo;s registered email address.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users/activations</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email address.</td>
<td></td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<p>Errors specific to user activation link requests.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>User not found.</td>
<td>Invalid email address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ALREADY_ACTIVATED</td>
<td>email</td>
<td>Cannot activate user.</td>
<td>User already activated.</td>
</tr>
</tbody></table>

          <h2 id="activate-a-user-account">Activate a user account</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_activations",
    "id": "G2MnBqMJVF43tffPmKrmnw",
    "attributes": {
      "email": "user@example.com"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "users",
    "attributes": {
      "email": "user@example.com",
      "username": "new_user",
      "role": "member",
      "given_names": null,
      "family_name": null,
      "gender": null,
      "avatar": null,
      "birthday": null,
      "jwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1LCJ1c2VyX3JvbGUiOiJtZW1iZXIiLCJleHBpcnkiOiIyMDE3LTAzLTIyIDIzOjU1OjMyICswMDAwIn0.WqLjZkgyEh3Trv2U9q2PDBkbY4toWPJx02zbqTSn540"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "5",
          "type": "places"
        },,
        "links": {
          "related": "http://api.dbljump.com/places/countries/andorra"
        }
      },
      "images": {
        "links": {
          "related": "http://api.dbljump.com/users/5/images"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/users/5"
    }
  },
  "included": [
  {
    "id": "5",
    "type": "places",
    "attributes": {
      "subtype": "countries",
      "slug": "andorra",
      "name": "Andorra",
      "short_name": null,
      "formatted": "Andorra"
    },
    "links": {
      "self": "http://localhost:3000/places/countries/united-kingdom"
    }
  }
],
  "meta": {
    "last_signed_in_at": null,
    "last_sign_in_ip": null,
    "sign_in_count": 0,
    "activated_at": "2017-03-21T23:55:32.873Z"
  }
}
</code></pre>
<p>Activate a user account. This endpoint should be triggered by an activation link sent to the user by email. The response includes a JWT authentication token, which can be used to automatically sign in the user.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /users/activations/{activation_token}</code> (replace <code class="prettyprint">{activation_token}</code> with the user&rsquo;s activation token)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>User activation token. Provided in the activation link.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email. Provided in the activation link.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes">Response attributes</h3>

<p>See the table in <a href="#users_show">Get single user</a> for all attribute details.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jwt</td>
<td>string</td>
<td>Y</td>
<td>The JSON web token used for authentication. Should be added to the HTTP <code class="prettyprint">Authorization</code> header in further requests until user is signed out.</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<p>Errors specific to user activations.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_ACTIVATION_INVALID</td>
<td>N/A</td>
<td>Cannot activate user.</td>
<td>Invalid user or activation token.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ALREADY_ACTIVATED</td>
<td>email</td>
<td>Cannot activate user.</td>
<td>User already activated.</td>
</tr>
</tbody></table>

          <h1 id="users-passwords">Users: passwords</h1>

<p>Resources related to user passwords.</p>

<p>If a user needs a new password, they can:</p>

<ol>
<li>Enter their registered email address and receive a password-reset link by email</li>
<li>Set a new password after clicking the password-reset email</li>
</ol>

          <h2 id="request-a-password-reset-link">Request a password-reset link</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_passwords",
    "attributes": {
      "email": "user@example.com"
    }
  }
}
</code></pre>
<p>A user can request an email with a link to reset their password.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /users/passwords</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email. Required. Max 255 chars. Must be email format.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<p>Errors specific to user password reset link requests.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>User not found.</td>
<td>Invalid email address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ACTIVATION_REQUIRED</td>
<td>email</td>
<td>User activation required.</td>
<td>User not yet activated.</td>
</tr>
</tbody></table>

          <h2 id="set-a-new-user-password">Set a new user password</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "user_passwords",
    "id": "Bml5G2MnBqMJVFacD243tffPmKrmnwX",
    "attributes": {
      "email": "user@example.com",
      "password": "new_password",
      "password_confirmation": "new_password"
    }
  }
}
</code></pre>
<p>A user can set a new password after following a reset-password link. The reset token in the link expires after 2 hours.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: N/A</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /users/passwords/{password_reset_token}</code> (replace <code class="prettyprint">{password_reset_token}</code> with the password reset token)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The password reset token, available in the password reset link URL. Required.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The user&rsquo;s registered email address, available in the password reset link URL. Required.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>New password. Required. Any 8-24 chars.</td>
</tr>
<tr>
<td>password_confirmation</td>
<td>string</td>
<td>Required. Must match password.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

<h3 id="errors">Errors</h3>

<p>Errors specific to user password resets.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
<th>Detail</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>USER_EMAIL_INVALID</td>
<td>email</td>
<td>User not found.</td>
<td>Invalid email address.</td>
</tr>
<tr>
<td>400</td>
<td>USER_ACTIVATION_REQUIRED</td>
<td>email</td>
<td>User activation required.</td>
<td>User not yet activated.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOKEN_INVALID</td>
<td>password_reset_token</td>
<td>Cannot reset user password.</td>
<td>Password reset token invalid.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOKEN_EXPIRED</td>
<td>password_reset_token</td>
<td>Cannot reset user password.</td>
<td>Password reset token expired.</td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_BLANK</td>
<td>password</td>
<td>Password is required.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_SHORT</td>
<td>password</td>
<td>Password cannot be less than 8 characters.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_TOO_LONG</td>
<td>password</td>
<td>Password cannot be more than 24 characters.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>USER_PASSWORD_CONFIRMATION_CONFIRMATION</td>
<td>password_confirmation</td>
<td>Password and confirmation must match.</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="images"><a name="images_intro"></a>Images</h1>

<p>Resources related to images.</p>

<p>An image record includes the URL of an image stored on Amazon S3, plus metadata about the image. An image can be associated with many articles (i.e. games, companies and people).</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#images_create">Upload a new image</a> and <a href="#images_update">Update an image record</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#images_show">Get single image</a></p>

          <h2 id="get-all-images">Get all images</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "1",
      "type": "images",
      "attributes": {
        "subtype": "photos",
        "slug": "nintendo-office-2006-uncategorized-moja-commonswiki",
        "file": "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/1/nintendo-hq-kyoto-2006.jpg",
        "kind": "uncategorized",
        "title": "Nintendo office",
        "description": "Head Quarters of Nintendo, Minami-ku, Kyoto, Japan. The picture was taken by the poster in February, 2006.",
        "year": 2006,
        "date": "2006-02-18",
        "usage_type": "licensed",
        "usage_license_code": "cc_by_sa_3_0",
        "usage_license_name": "Creative Commons Attribution-ShareAlike 3.0",
        "usage_license_url": "https://creativecommons.org/licenses/by-sa/3.0",
        "attributed_name": "Moja~commonswiki",
        "attributed_url": "",
        "source_url": "https://en.wikipedia.org/wiki/Nintendo#/media/File:Nintendo_office.jpg"
      },
      "relationships": {
        "uploaded_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "place": {
          "data": null
        }
      },
      "links": {
        "self": "http://api.dbljump.com/images/nintendo-office-2006-uncategorized-moja-commonswiki"
      }
    },
    {
      "id": "2",
      "type": "images",
      "attributes": {
        "subtype": "photos",
        "slug": "mario-figure-2016-uncategorized",
        "file": "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/2/mario-figure.jpg",
        "kind": "uncategorized",
        "title": "Mario figure",
        "description": "",
        "year": 2016,
        "date": "2016-07-30",
        "usage_type": "free",
        "usage_license_code": null,
        "usage_license_name": null,
        "usage_license_url": null,
        "attributed_name": null,
        "attributed_url": null,
        "source_url": ""
      },
      "relationships": {
        "uploaded_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "place": {
          "data": null
        }
      },
      "links": {
        "self": "http://api.dbljump.com/images/mario-figure-2016-uncategorized"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 2
  }
}
</code></pre>
<p>Retrieve all images. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /images</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-image"><a name="images_show"></a>Get single image</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2",
    "type": "images",
    "attributes": {
      "subtype": "photos",
      "slug": "mario-figure-2016-uncategorized",
      "file": "url": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/2/mario-figure.jpg",
      "kind": "uncategorized",
      "title": "Mario figure",
      "description": "",
      "year": 2016,
      "date": "2016-07-30",
      "usage_type": "free",
      "usage_license_code": null,
      "usage_license_name": null,
      "usage_license_url": null,
      "attributed_name": null,
      "attributed_url": null,
      "source_url": ""
    },
    "relationships": {
      "uploaded_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "place": {
        "data": null
      }
    },
    "links": {
      "self": "http://api.dbljump.com/images/mario-figure-2016-uncategorized"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "mario figure, 2016, 2016-07-30, photo, image, picture, media, dbljump, video games, pc games, gaming",
    "description": "'Mario figure' is a video game image at Dbljump.",
    "created_at": "2017-03-30T12:40:13.387Z",
    "updated_at": "2017-03-30T12:40:13.387Z"
  }
}
</code></pre>
<p>Retrieve a single image record. Images are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /images/{slug}</code> (replace <code class="prettyprint">{slug}</code> with image record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="image_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file/url</td>
<td>string</td>
<td>Y</td>
<td>Image URL, usually at AWS.</td>
</tr>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>The image subclass. Either &lsquo;artworks&rsquo;, &#39;docs&rsquo;, &#39;photos&rsquo;, or &#39;screens&rsquo;.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on metadata, e.g. &#39;photo-of-hideo-kojima&rsquo;.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>A further subcategory related to subtype. See <a href="#image_kind">Kind</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Y</td>
<td>The image title.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td></td>
<td>The image description.</td>
</tr>
<tr>
<td>year</td>
<td>integer</td>
<td></td>
<td>Year the image was created.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td></td>
<td>Date the image was created.</td>
</tr>
<tr>
<td>usage_type</td>
<td>string</td>
<td>Y</td>
<td>One of three usage types:&#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;. See <a href="#image_usage_type">Usage type</a>.</td>
</tr>
<tr>
<td>usage_license_code</td>
<td>string</td>
<td>*</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. See <a href="#image_usage_license">Usage license</a> section.</td>
</tr>
<tr>
<td>attributed_name</td>
<td>string</td>
<td>*</td>
<td>The image owner&rsquo;s name. Always present if usage_type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>attributed_url</td>
<td>string</td>
<td></td>
<td>The image owner&rsquo;s website URL.</td>
</tr>
<tr>
<td>source_url</td>
<td>string</td>
<td>*</td>
<td>The URL the image was sourced from. Always present if usage_type is &#39;licensed&rsquo;.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>uploaded_by</td>
<td>users</td>
<td>belongs_to</td>
</tr>
<tr>
<td>place</td>
<td>places</td>
<td>belongs_to</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td>uploaded_by</td>
<td>username, role, given_names, family_name, avatar</td>
</tr>
<tr>
<td>places</td>
<td>place</td>
<td>subtype, slug, name, short_name, formatted</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code> attributes.</p>

          <h2 id="upload-a-new-image"><a name="images_create"></a>Upload a new image</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "images",
    "attributes": {
      "base64_file": "data:image/gif;base64,R0lGODlhBQAFAIAAAAAAAP///ywAAAAABQAFAAACBIyPqVgAOw==",
      "subtype": "photos",
      "kind": "likeness",
      "title": "Portrait of Takashi Tezuka",
      "description": "Takashi Tezuka in Kyoto on 2nd February 2017.",
      "year": "",
      "date": "2017-02-02",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_4_0",
      "attributed_name": "Jonny Snapper",
      "attributed_url": "http://www.jonnys-game-pics.com",
      "source_url": "http://www.jonnys-game-pics.com/tezuka.jpg"
    },
    "relationships": {
      "place": {
        "data": {
          "id": "1",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "3",
    "type": "images",
    "attributes": {
      "subtype": "photos",
      "slug": "portrait-of-takashi-tezuka-2017-likeness-jonny-snapper",
      "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/3/file.gif",
      "kind": "likeness",
      "title": "Portrait of Takashi Tezuka",
      "description": "Takashi Tezuka in Kyoto on 2nd February 2017.",
      "year": 2017,
      "date": "2017-02-02",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_4_0",
      "usage_license_name": "Creative Commons Attribution 4.0",
      "usage_license_url": "https://creativecommons.org/licenses/by/4.0",
      "attributed_name": "Jonny Snapper",
      "attributed_url": "http://www.jonnys-game-pics.com",
      "source_url": "http://www.jonnys-game-pics.com/tezuka.jpg"
    },
    "relationships": {
      "uploaded_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "place": {
        "data": {
          "id": "1",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/afghanistan"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/images/portrait-of-takashi-tezuka-2017-likeness-jonny-snapper"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "1",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "afghanistan",
        "name": "Afghanistan",
        "short_name": null,
        "formatted": "Afghanistan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/afghanistan"
      }
    }
  ],
  "meta": {
    "keywords": "portrait of takashi tezuka, 2017, 2017-02-02, jonny snapper, photo, likeness, image, picture, media, dbljump, video games, pc games, gaming",
    "description": "'Portrait of Takashi Tezuka' is a video game image at Dbljump.",
    "created_at": "2017-03-30T13:16:18.639Z",
    "updated_at": "2017-03-30T13:16:18.639Z"
  }
}
</code></pre>
<p>Upload a new image. User must be an editor or admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /images</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>base64_file</td>
<td>string</td>
<td>Y</td>
<td>Image file encoded as base64. See <a href="#image_file">File</a>.</td>
</tr>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>Must be &lsquo;artworks&rsquo;, &#39;docs&rsquo;, &#39;photos&rsquo;, or &#39;screens&rsquo;.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>A subcategory related to the given subtype. See <a href="#image_kind">Kind</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Y</td>
<td>Max 100 chars.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td></td>
<td>Max 250 chars.</td>
</tr>
<tr>
<td>year</td>
<td>integer</td>
<td></td>
<td>1800 to present year.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td></td>
<td>1800-01-01 to present year.</td>
</tr>
<tr>
<td>usage_type</td>
<td>string</td>
<td>Y</td>
<td>Must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;. See <a href="#image_usage_type">Usage type</a>.</td>
</tr>
<tr>
<td>usage_license_code</td>
<td>string</td>
<td>*</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. See <a href="#image_usage_license">Usage license</a>.</td>
</tr>
<tr>
<td>attributed_name</td>
<td>string</td>
<td>*</td>
<td>Image owner&rsquo;s name. Max 100 chars. Req&rsquo;d if usage_type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>attributed_url</td>
<td>string</td>
<td></td>
<td>The owner&rsquo;s website. Max 250 chars.</td>
</tr>
<tr>
<td>source_url</td>
<td>string</td>
<td>*</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. Max 250 chars. URL of image source.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>place</td>
<td>belongs_to</td>
<td></td>
<td>places</td>
<td>A <a href="#places_intro">place record</a> the image is associated with.</td>
</tr>
</tbody></table>

<h3 id="file"><a name="image_file"></a>File</h3>

<p><strong>File type:</strong> File uploads must be of type GIF, JPG/JPEG, or PNG.</p>

<p><strong>Base64:</strong> Image file uploads are handled by the Ruby gems <a href="https://github.com/carrierwaveuploader/carrierwave">CarrierWave</a> and <a href="https://github.com/lebedev-yury/carrierwave-base64">Carrierwave::Base64</a>. Base64 strings should have <a href="https://github.com/lebedev-yury/carrierwave-base64#data-format">the correct data format</a>, i.e.:</p>

<p><code class="prettyprint">data:image/jpeg;base64,(base64 encoded data)</code></p>

<h3 id="kind"><a name="image_kind"></a>Kind</h3>

<p>The <code class="prettyprint">kind</code> attribute is a subcategory of <code class="prettyprint">subtype</code>. Acceptable values are shown below.</p>

<table><thead>
<tr>
<th>Subtype</th>
<th>Acceptable kind values</th>
</tr>
</thead><tbody>
<tr>
<td>artworks</td>
<td>boxart, logo, poster, production, uncategorized</td>
</tr>
<tr>
<td>docs</td>
<td>publication, slides, text, uncategorized</td>
</tr>
<tr>
<td>photos</td>
<td>event, likeness, place, product, uncategorized</td>
</tr>
<tr>
<td>screens</td>
<td>credits, gameplay, title, uncategorized</td>
</tr>
</tbody></table>

<h3 id="usage-type"><a name="image_usage_type"></a>Usage type</h3>

<p>Users should only upload images that can legally be shown on Dbljump.com. An image must therefore have one of three <code class="prettyprint">usage_type</code> values.</p>

<table><thead>
<tr>
<th>Usage type</th>
<th>usage_type value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Free</td>
<td>free</td>
<td>The image is in the public domain and free to use without attribution.</td>
</tr>
<tr>
<td>Fair use</td>
<td>fair</td>
<td>The image can be used under US fair use law. May include logos, box-arts, and screenshots.</td>
</tr>
<tr>
<td>Licensed</td>
<td>licensed</td>
<td>The image is free to use with some-rights-reserved license, e.g. Creative Commons.</td>
</tr>
</tbody></table>

<h3 id="usage-license-attribute"><a name="image_usage_license"></a>Usage license attribute</h3>

<p>If <code class="prettyprint">usage_type</code> is set to <code class="prettyprint">licensed</code>, a valid image license code must be provided. Acceptable values are below. We could add an API endpoint to retrieve all these values, such as <code class="prettyprint">/media-licenses</code>.</p>

<table><thead>
<tr>
<th>usage_license_code</th>
<th>License name</th>
<th>License URL</th>
</tr>
</thead><tbody>
<tr>
<td>cc_by_2_0</td>
<td>Creative Commons Attribution 2.0</td>
<td>https://creativecommons.org/licenses/by/2.0</td>
</tr>
<tr>
<td>cc_by_2_5</td>
<td>Creative Commons Attribution 2.5</td>
<td>https://creativecommons.org/licenses/by/2.5/</td>
</tr>
<tr>
<td>cc_by_sa_2_0</td>
<td>Creative Commons Attribution-ShareAlike 2.0</td>
<td>https://creativecommons.org/licenses/by-sa/2.0</td>
</tr>
<tr>
<td>cc_by_nd_2_0</td>
<td>Creative Commons Attribution-NoDerivs 2.0</td>
<td>http://creativecommons.org/licenses/by-nd/2.0/</td>
</tr>
<tr>
<td>cc_by_3_0</td>
<td>Creative Commons Attribution 3.0</td>
<td>https://creativecommons.org/licenses/by/3.0/</td>
</tr>
<tr>
<td>cc_by_sa_3_0</td>
<td>Creative Commons Attribution-ShareAlike 3.0</td>
<td>https://creativecommons.org/licenses/by-sa/3.0</td>
</tr>
<tr>
<td>cc_by_nd_3_0</td>
<td>Creative Commons Attribution-NoDerivs 3.0</td>
<td>http://creativecommons.org/licenses/by-nd/3.0</td>
</tr>
<tr>
<td>cc_by_4_0</td>
<td>Creative Commons Attribution 4.0</td>
<td>https://creativecommons.org/licenses/by/4.0</td>
</tr>
<tr>
<td>cc_by_sa_4_0</td>
<td>Creative Commons Attribution-ShareAlike 4.0</td>
<td>https://creativecommons.org/licenses/by-sa/4.0</td>
</tr>
<tr>
<td>cc_by_nd_4_0</td>
<td>Creative Commons Attribution-NoDerivs 4.0</td>
<td>http://creativecommons.org/licenses/by-nd/4.0</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-an-image-record"><a name="images_update"></a>Update an image record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "images",
    "id": "portrait-of-takashi-tezuka-2017-likeness-jonny-snapper",
    "attributes": {
      "subtype": "screens",
      "kind": "gameplay",
      "title": "New Title",
      "description": "New description.",
      "year": "",
      "date": "2000-01-01",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_3_0",
      "attributed_name": "New Attributed Name",
      "attributed_url": "http://www.new-site.com",
      "source_url": "http://www.new-site/new-file.jpg"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "3",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "3",
    "type": "images",
    "attributes": {
      "subtype": "photos",
      "slug": "new-title-screen",
      "file": "https://dbljumpheroku.s3.amazonaws.com/uploads/images/3/file.gif",
      "kind": "uncategorized",
      "title": "New Title",
      "description": "New description.",
      "year": 2000,
      "date": "2000-01-01",
      "usage_type": "licensed",
      "usage_license_code": "cc_by_3_0",
      "usage_license_name": "Creative Commons Attribution 3.0",
      "usage_license_url": "https://creativecommons.org/licenses/by/3.0/",
      "attributed_name": "New Attributed Name",
      "attributed_url": "http://www.new-site.com",
      "source_url": "http://www.new-site/new-file.jpg"
    },
    "relationships": {
      "uploaded_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "place": {
        "data": {
          "id": "3",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/algeria"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/images/new-title-screen"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "3",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "algeria",
        "name": "Algeria",
        "short_name": null,
        "formatted": "Algeria"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/algeria"
      }
    }
  ],
  "meta": {
    "keywords": "new title, 2000, 2000-01-01, new attributed name, photo, likeness, image, picture, media, dbljump, video games, pc games, gaming",
    "description": "'New Title' is a video game image at Dbljump.",
    "created_at": "2017-03-30T13:16:18.639Z",
    "updated_at": "2017-03-30T13:25:42.131Z"
  }
}
</code></pre>
<p>Update an existing image record. The user must be an editor.</p>

<p>The <code class="prettyprint">file</code> attribute cannot be updated. A new image file can only be uploaded with a new image record.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: editor</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /images/{slug}</code> (replace <code class="prettyprint">{slug}</code> with image record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>Must be &lsquo;artworks&rsquo;, &#39;docs&rsquo;, &#39;photos&rsquo;, or &#39;screens&rsquo;.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>A subcategory related to the given subtype. Reset to <code class="prettyprint">uncategorized</code> if <code class="prettyprint">subtype</code> is changed. See <a href="#image_kind">Kind</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Y</td>
<td>Max 100 chars.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td></td>
<td>Max 250 chars.</td>
</tr>
<tr>
<td>year</td>
<td>integer</td>
<td></td>
<td>1800 to present year.</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td></td>
<td>1800-01-01 to present year.</td>
</tr>
<tr>
<td>usage_type</td>
<td>string</td>
<td>Y</td>
<td>Must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;. See <a href="#image_usage_type">Usage type</a>.</td>
</tr>
<tr>
<td>usage_license_code</td>
<td>string</td>
<td>*</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. See <a href="#image_usage_license">Usage license</a>.</td>
</tr>
<tr>
<td>attributed_name</td>
<td>string</td>
<td>*</td>
<td>Image owner&rsquo;s name. Max 100 chars. Req&rsquo;d if usage_type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>attributed_url</td>
<td>string</td>
<td></td>
<td>The owner&rsquo;s website. Max 250 chars.</td>
</tr>
<tr>
<td>source_url</td>
<td>string</td>
<td>*</td>
<td>Req&rsquo;d if usage_type is &#39;licensed&rsquo;. Max 250 chars. URL of image source.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>place</td>
<td>belongs_to</td>
<td></td>
<td>places</td>
<td>A <a href="#places_intro">place record</a> the image is associated with.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-an-image-record">Delete an image record</h2>

<p>Delete an existing image record. An editor can delete images they uploaded. An admin can delete any image.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: Editor to delete own images. Admin to delete any image.</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /images/{slug}</code> (replace <code class="prettyprint">{slug}</code> with image record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="errors">Errors</h2>

<p>Errors specific to creating and updating image records.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>IMAGE_BASE64_FILE_BLANK</td>
<td>base64_file</td>
<td>File is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_BASE64_FILE_INVALID</td>
<td>base64_file</td>
<td>Base64 file must be in the correct format.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_BASE64_FILE_PRESENT</td>
<td>base64_file</td>
<td>Base64 file is not accepted for this action.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TITLE_BLANK</td>
<td>title</td>
<td>Title is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_TITLE_TOO_LONG</td>
<td>title</td>
<td>Title cannot be more than 100 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_DESCRIPTION_TOO_LONG</td>
<td>description</td>
<td>Description cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SUBTYPE_BLANK</td>
<td>type</td>
<td>Subtype is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SUBTYPE_INCLUSION</td>
<td>type</td>
<td>Subtype must be &lsquo;artworks&rsquo;, &#39;docs&rsquo;, &#39;photos&rsquo; or &#39;screens&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_KIND_BLANK</td>
<td>kind</td>
<td>Kind is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_KIND_INCLUSION</td>
<td>kind</td>
<td>Kind must be a valid value for this image type.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_YEAR_INCLUSION</td>
<td>year</td>
<td>Year must be between 1800 and the present year.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_DATE_INCLUSION</td>
<td>year</td>
<td>Date must be between 1 January 1800 and the present date.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_TYPE_BLANK</td>
<td>usage_type</td>
<td>Usage type is required.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_TYPE_INCLUSION</td>
<td>usage_type</td>
<td>Usage type must be &#39;free&rsquo;, &#39;fair&rsquo;, or &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_NAME_BLANK</td>
<td>attributed_name</td>
<td>Attributed name is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_NAME_TOO_LONG</td>
<td>attributed_name</td>
<td>Attributed name cannot be more than 100 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_ATTRIBUTED_URL_TOO_LONG</td>
<td>attributed_url</td>
<td>Attributed URL cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SOURCE_URL_BLANK</td>
<td>source_url</td>
<td>Source url is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_SOURCE_URL_TOO_LONG</td>
<td>source_url</td>
<td>Source url cannot be more than 250 characters.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_LICENSE_CODE_BLANK</td>
<td>usage_license_code</td>
<td>Usage license code is required if usage type is &#39;licensed&rsquo;.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_USAGE_LICENSE_CODE_INCLUSION</td>
<td>usage_license_code</td>
<td>Usage license code must be valid.</td>
</tr>
<tr>
<td>400</td>
<td>IMAGE_PLACE_ID_INVALID</td>
<td>relationships/place/data/id</td>
<td>Must be a valid place ID.</td>
</tr>
</tbody></table>

          <h1 id="platforms"><a name="platforms_intro"></a>Platforms</h1>

<p>Resources related to game platforms.</p>

<p>Game platforms can include dedicated game systems (e.g. Sony PlayStation 4), computers (e.g. Atari ST), operating systems (e.g. Microsoft Windows), add-ons with unique game libraries (e.g. Sega 32X), and arcade systems (e.g. Capcom CPS-2).</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#platforms_create">Create a new platform record</a> and <a href="#platforms_update">Update a platform record</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#platforms_show">Get single country</a>.</p>

          <h2 id="get-all-platforms">Get all platforms</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "1",
      "type": "platforms",
      "attributes": {
        "slug": "sony-playstation",
        "name": "PlayStation",
        "short_name": "PS",
        "sphere": "home",
        "kind": "system"
      },
      "relationships": {
        "holder": {
          "meta": {}
        },
        "parent": {
          "data": null,
          "links": {
            "related": "http://api.dbljump.com/platforms/sega-genesis"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/platforms/sony-playstation"
      }
    },
    {
      "id": "2",
      "type": "platforms",
      "attributes": {
        "slug": "sony-playstation-2",
        "name": "PlayStation 2",
        "short_name": "PS2",
        "sphere": "home",
        "kind": "system"
      },
      "relationships": {
        "holder": {
          "meta": {}
        },
        "parent": {
          "data": null,
          "links": {
            "related": "http://api.dbljump.com/platforms/sega-genesis"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/platforms/sony-playstation-2"
      }
    },
    {
      "id": "3",
      "type": "platforms",
      "attributes": {
        "slug": "sony-playstation-3",
        "name": "PlayStation 3",
        "short_name": "PS3",
        "sphere": "home",
        "kind": "system"
      },
      "relationships": {
        "holder": {
          "meta": {}
        },
        "parent": {
          "data": null,
          "links": {
            "related": "http://api.dbljump.com/platforms/sega-genesis"
          }
        },
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/platforms/sony-playstation-3"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/platforms?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/platforms?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/platforms?page%5Bnumber%5D=13&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 38
  }
}
</code></pre>
<p>Retrieve all platforms. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /platforms</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of platforms per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-platform"><a name="platforms_show"></a>Get single platform</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "31",
    "type": "platforms",
    "attributes": {
      "slug": "sega-32x",
      "name": "32X",
      "short_name": "32X",
      "sphere": "home",
      "kind": "add-on"
    },
    "relationships": {
      "holder": {
        "meta": {}
      },
      "parent": {
        "data": {
          "id": "29",
          "type": "platforms"
        },
        "links": {
          "related": "http://api.dbljump.com/platforms/sega-genesis"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/platforms/sega-32x"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "32x, 32x, sega, home, add-on, platform, dbljump, video games, pc games, gaming",
    "description": "Find out about games for 32X by Sega Games Co., Ltd. at Dbljump, the video game reference.",
    "created_at": "2017-03-30T12:40:16.950Z",
    "updated_at": "2017-03-30T12:40:16.950Z"
  }
}
</code></pre>
<p>Retrieve a single platform record. Platforms are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /platforms/{slug}</code> (replace <code class="prettyprint">{slug}</code> with platform record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="platform_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on metadata, e.g. &lsquo;sega-genesis&rsquo;.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>The full North American name, or nearest alternative, e.g. &#39;Genesis&rsquo;</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>The common abbreviated name, e.g. &#39;SNES&rsquo;.</td>
</tr>
<tr>
<td>sphere</td>
<td>string</td>
<td>Y</td>
<td>The usual platform environment. See <a href="#platforms_sphere">Sphere</a>.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>Platform type. See <a href="#platforms_kind">Kind</a>.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>holder</td>
<td>companies</td>
<td>belongs_to</td>
</tr>
<tr>
<td>parent</td>
<td>platforms</td>
<td>belongs_to</td>
</tr>
<tr>
<td>created_by</td>
<td>users</td>
<td>belongs_to</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td>created_by</td>
<td>username, role, given_names, family_name, avatar</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code> attributes.</p>

          <h2 id="create-a-new-platform-record"><a name="platforms_create"></a>Create a new platform record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "platforms",
    "attributes": {
      "name": "New Platform",
      "short_name": "NPlat",
      "sphere": "home",
      "kind": "add-on",
    }
    "relationships": {
      "holder": {
        "data": {
          "id": null,
          "type": "companies"
        }
      },
      "parent": {
        "data": {
          "id": "13",
          "type": "platforms"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "39",
    "type": "platforms",
    "attributes": {
      "slug": "nintendo-new-platform",
      "name": "New Platform",
      "short_name": "NPlat",
      "sphere": "home",
      "kind": "add-on"
    },
    "relationships": {
      "holder": {
        "meta": {}
      },
      "parent": {
        "data": {
          "id": "13",
          "type": "platforms"
        },
        "links": {
          "related": "http://api.dbljump.com/platforms/nintendo-switch"
        }
      },
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/platforms/nintendo-new-platform"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    }
  ],
  "meta": {
    "keywords": "new platform, nplat, nintendo, home, add-on, platform, dbljump, video games, pc games, gaming",
    "description": "Find out about games for New Platform by Nintendo Co., Ltd. at Dbljump, the video game reference.",
    "created_at": "2017-03-30T13:32:37.200Z",
    "updated_at": "2017-03-30T13:32:37.200Z"
  }
}
</code></pre>
<p>Create a new platform record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /platforms</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Max 50 chars. The full North American name, or nearest alternative, e.g. &lsquo;Genesis&rsquo;</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Max 10 chars. The common abbreviated name, e.g. &#39;SNES&rsquo;.</td>
</tr>
<tr>
<td>sphere</td>
<td>string</td>
<td>Y</td>
<td>The usual platform environment. See <a href="#platforms_sphere">Sphere</a>.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>Platform type. See <a href="#platforms_kind">Kind</a>.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>holder</td>
<td>belongs_to</td>
<td>Y</td>
<td>companies</td>
<td>Must be a valid company. The platform holder, e.g. &#39;Sony&rsquo; for PlayStation.</td>
</tr>
<tr>
<td>parent</td>
<td>belongs_to</td>
<td></td>
<td>platforms</td>
<td>Must be a valid platform. Used for add-ons, e.g. &#39;Sega CD&rsquo; belongs to Sega Genesis.</td>
</tr>
</tbody></table>

<h3 id="sphere"><a name="platforms_sphere"></a>Sphere</h3>

<p>The <code class="prettyprint">sphere</code> attribute must take one of the following values.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>home</td>
<td>Usually used at home, e.g. a home console or computer.</td>
</tr>
<tr>
<td>portable</td>
<td>Portable or handheld, e.g. PS Vita or Nintendo Game Boy.</td>
</tr>
<tr>
<td>mobile</td>
<td>A phone, tablet or mobile operating system, e.g. Android.</td>
</tr>
<tr>
<td>arcade</td>
<td>Associated with public game arcades, e.g. Sega NAOMI.</td>
</tr>
<tr>
<td>non-gaming</td>
<td>For platforms not usually associated with gaming.</td>
</tr>
</tbody></table>

<h3 id="kind"><a name="platforms_kind"></a>Kind</h3>

<p>The <code class="prettyprint">kind</code> attribute must take one of the following values.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>system</td>
<td>Hardware such as a console, computer or device.</td>
</tr>
<tr>
<td>OS</td>
<td>A software operating system that might run on various devices.</td>
</tr>
<tr>
<td>add-on</td>
<td>A device that requires its parent platform to run.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-a-platform-record"><a name="platforms_update"></a>Update a platform record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "platforms",
    "id": "sega-dreamcast-2",
    "attributes": {
      "name": "Updated Name",
      "short_name": "Changed",
      "sphere": "portable",
      "kind": "system"
    },
    "relationships": {
      "holder": {
        "data": {
          "id": null,
          "type": "companies"
        }
      },
      "parent": {
        "data": {
          "id": "2",
          "type": "platforms"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "27",
    "type": "platforms",
    "attributes": {
      "slug": "nintendo-updated-name",
      "name": "Updated Name",
      "short_name": "Changed",
      "sphere": "portable",
      "kind": "system"
    },
    "relationships": {
      "holder": {
        "meta": {}
      },
      "parent": {
        "data": {
          "id": "2",
          "type": "platforms"
        },
        "links": {
          "related": "http://api.dbljump.com/platforms/sony-playstation-2"
        }
      },
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/platforms/nintendo-updated-name"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "updated name, changed, nintendo, portable, system, platform, dbljump, video games, pc games, gaming",
    "description": "Find out about games for Updated Name by Nintendo Co., Ltd. at Dbljump, the video game reference.",
    "created_at": "2017-03-30T12:40:16.756Z",
    "updated_at": "2017-03-30T13:34:53.017Z"
  }
}
</code></pre>
<p>Update an existing platform record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /platforms/{slug}</code> (replace <code class="prettyprint">{slug}</code> with platform record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Max 50 chars. The full North American name, or nearest alternative, e.g. &lsquo;Genesis&rsquo;</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Max 10 chars. The common abbreviated name, e.g. &#39;SNES&rsquo;.</td>
</tr>
<tr>
<td>sphere</td>
<td>string</td>
<td>Y</td>
<td>The usual platform environment. See <a href="#platforms_sphere">Sphere</a>.</td>
</tr>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>Platform type. See <a href="#platforms_kind">Kind</a>.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>holder</td>
<td>belongs_to</td>
<td>Y</td>
<td>companies</td>
<td>Must be a valid company. The platform holder, e.g. &#39;Sony&rsquo; for PlayStation.</td>
</tr>
<tr>
<td>parent</td>
<td>belongs_to</td>
<td></td>
<td>platforms</td>
<td>Must be a valid platform. Used for add-ons, e.g. &#39;Sega CD&rsquo; belongs to Sega Genesis.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-a-platform-record">Delete a platform record</h2>

<p>Delete an existing platform record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /platforms/{slug}</code> (replace <code class="prettyprint">{slug}</code> with platform record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="errors">Errors</h2>

<p>Errors specific to creating and updating platform records.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLATFORM_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_NAME_TAKEN</td>
<td>name</td>
<td>Name has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_SHORT_NAME_TAKEN</td>
<td>short_name</td>
<td>Short name has already been taken.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_SHORT_TOO_LONG</td>
<td>short_name</td>
<td>Short name cannot be more than 10 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_SPHERE_BLANK</td>
<td>sphere</td>
<td>Sphere is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_SPHERE_INCLUSION</td>
<td>sphere</td>
<td>Sphere must be an accepted value.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_KIND_BLANK</td>
<td>kind</td>
<td>Kind is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_KIND_INCLUSION</td>
<td>kind</td>
<td>Kind must be an accepted value.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_HOLDER_ID_BLANK</td>
<td>relationships/holder/data/id</td>
<td>Holder is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_HOLDER_ID_INVALID</td>
<td>relationships/holder/data/id</td>
<td>Holder ID must be a valid company ID.</td>
</tr>
<tr>
<td>400</td>
<td>PLATFORM_PARENT_ID_INVALID</td>
<td>relationships/parent/data/id</td>
<td>Parent ID must be a valid platform ID.</td>
</tr>
</tbody></table>

          <h1 id="places"><a name="places_intro"></a>Places</h1>

<p>Resources related to places.</p>

<p><code class="prettyprint">/places</code> includes all place records: <a href="#regions_intro">regions</a> (i.e. groups of countries), <a href="#countries_intro">countries</a>, <a href="#subdivs_intro">subdivisions</a> (e.g. states and counties), and <a href="#localities_intro">localities</a> (e.g. cities and towns).</p>

<p><a href="#regions_intro">Region</a>, <a href="#countries_intro">country</a>, <a href="#subdivs_intro">subdivision</a>, and <a href="#localities_intro">locality</a> records must be created, updated, and deleted via their own model-specific routes.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#places_show">Get single place</a>.</p>

          <h2 id="get-all-places"><a name="places_index"></a>Get all places</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "1",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "afghanistan",
        "name": "Afghanistan",
        "short_name": null,
        "formatted": "Afghanistan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/afghanistan"
      }
    },
    {
      "id": "2",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "albania",
        "name": "Albania",
        "short_name": null,
        "formatted": "Albania"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/albania"
      }
    },
    {
      "id": "3",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "algeria",
        "name": "Algeria",
        "short_name": null,
        "formatted": "Algeria"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/algeria"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places?page%5Bnumber%5D=979&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 2936
  }
}
</code></pre>
<p>Retrieve all places. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter[field]</td>
<td>null</td>
<td>Filter search by field, e.g. <code class="prettyprint">/places?filter[kind]=country,region</code></td>
</tr>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-place"><a name="places_show"></a>Get single place</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2894",
    "type": "places",
    "attributes": {
      "subtype": "localities",
      "slug": "austin-texas-united-states",
      "name": "Austin",
      "short_name": null,
      "formatted": "Austin, Texas, United States"
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/austin-texas-united-states"
    }
  },
  "meta": {
    "keywords": "austin, texas, united states, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Austin, Texas, United States at Dbljump.",
    "created_at": "2017-03-30T12:40:05.924Z",
    "updated_at": "2017-03-30T12:40:05.924Z"
  }
}
</code></pre>
<p>Retrieve a single place record. Places are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/{slug}</code> (replace <code class="prettyprint">{slug}</code> with place record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="place_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>The place subclass. Either &lsquo;countries&rsquo;, &#39;subdivisions&rsquo;, or &#39;localities&rsquo;.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on the formatted name, e.g. &#39;glasgow-scotland-united-kingdom&rsquo;.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>The place name, e.g. &#39;Glasow&rsquo; or &#39;Scotland&rsquo; or &#39;United Kingdom&rsquo;.</td>
</tr>
<tr>
<td>short_name</td>
<td>array</td>
<td></td>
<td>A commonly-used short name, e.g. &#39;USA&rsquo; or &#39;UK&rsquo;.</td>
</tr>
<tr>
<td>formatted</td>
<td>string</td>
<td>Y</td>
<td>The full name including parent places, e.g. &#39;Glasgow, Scotland, United Kingdom&rsquo;.</td>
</tr>
</tbody></table>

          <h2 id="create-a-new-place-record"><a name="places_create"></a>Create a new place record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "kind": "subdivision",
      "name": "Maryland",
      "short_name": "MD",
      "also_known_as": ["Old Line State", "Chesapeake Bay State"],
      "latitude": "38.0",
      "longitude": "-77.0",
      "iso_code": "",
      "currency": "",
      "nationality": ""
    },
    "relationships": {
      "parent": {
        "data": {
          "id": "220",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2937",
    "type": "places",
    "attributes": {
      "kind": "subdivision",
      "slug": "maryland-united-states",
      "name": "Maryland",
      "short_name": "MD",
      "formatted": "Maryland, United States",
      "iso_code": "",
      "also_known_as": [
        "Old Line State",
        "Chesapeake Bay State"
      ],
      "nationality": "",
      "currency": "",
      "latitude": 38.0,
      "longitude": -77.0
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "parent": {
        "data": {
          "id": "220",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/places/united-states"
        }
      },
      "children": {
        "links": {
          "related": "http://api.dbljump.com/places/maryland-united-states/children"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/maryland-united-states"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "1",
      "type": "places",
      "attributes": {
        "subtype": "country",
        "slug": "united-states",
        "name": "United States",
        "short_name": "USA",
        "formatted": "United States"
      },
      "links": {
        "self": "http://api.dbljump.com/places/united-states"
      }
    }
  ],
  "meta": {
    "keywords": "maryland, md, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Maryland, United States at Dbljump.",
    "created_at": "2017-03-30T13:39:33.324Z",
    "updated_at": "2017-03-30T13:39:33.324Z"
  }
}
</code></pre>
<p>Create a new place record. Use the <code class="prettyprint">kind</code> attribute to set whether the place is a region (i.e. a group of countries), country, subdivision (i.e. a state or county), or locality (i.e. a town or city). Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places</code></p>

<h3 id="request-attributes">Request attributes</h3>

<p>We could cut the country-only <code class="prettyprint">currency</code>, <code class="prettyprint">iso_code</code> and <code class="prettyprint">nationality</code> attributes, I don&rsquo;t know what we&rsquo;ll even use these for tbh.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>kind</td>
<td>string</td>
<td>Y</td>
<td>Must be &lsquo;region&rsquo;, &#39;country&rsquo;, &#39;subdivision&rsquo;, or &#39;locality&rsquo;.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2-50 chars. English-language common name, e.g. &#39;United States&rsquo;.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td></td>
<td>COUNTRY ONLY. Must be 3 chars. ISO 4217 currency code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Y</td>
<td>COUNTRY ONLY. Unique. 2 chars. ISO 3166-1 country code.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td></td>
<td>COUNTRY ONLY. 2-30 chars. English-lang common term, e.g. &#39;American&rsquo;.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Country-region relationships would be handled with their own endpoint, probably <code class="prettyprint">/places/relationships/country-regions</code>.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parent</td>
<td>belongs_to</td>
<td>For subdivs and localities</td>
<td>places</td>
<td>The country a subdivision is in, or the subdivision a locality is in.</td>
</tr>
<tr>
<td>children</td>
<td>has_many</td>
<td></td>
<td>places</td>
<td>The subdivs in a country, or the localities in a subdivision</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h1 id="places-regions"><a name="regions_intro"></a>Places: regions</h1>

<p>Resources related to geographic regions (groups of countries).</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#regions_create">Create a new region record</a> and <a href="#regions_update">Update a region record</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#regions_show">Get single region</a></p>

          <h2 id="get-all-regions">Get all regions</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2937",
      "type": "places",
      "attributes": {
        "subtype": "regions",
        "slug": "new-region",
        "name": "New Region",
        "short_name": "NR",
        "formatted": "New Region",
        "latitude": 5,
        "longitude": -35,
        "also_known_as": [
          "That New Region",
          "The Newest"
        ]
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "2",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/2"
          }
        },
        "countries": {
          "data": [
            {
              "id": "7",
              "type": "places"
            },
            {
              "id": "27",
              "type": "places"
            }
          ],
          "links": {
            "related": "http://api.dbljump.com/places/regions/new-region/countries"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/regions/new-region"
      }
    },
    {
      "id": "239",
      "type": "places",
      "attributes": {
        "subtype": "regions",
        "slug": "australia-and-new-zealand",
        "name": "Australia and New Zealand",
        "short_name": "Aus&amp;NZ",
        "formatted": "Australia and New Zealand",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "countries": {
          "data": [
            {
              "id": "12",
              "type": "places"
            },
            {
              "id": "147",
              "type": "places"
            }
          ],
          "links": {
            "related": "http://api.dbljump.com/places/regions/australia-and-new-zealand/countries"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/regions/australia-and-new-zealand"
      }
    },
    {
      "id": "238",
      "type": "places",
      "attributes": {
        "subtype": "regions",
        "slug": "us-and-canada",
        "name": "US and Canada",
        "short_name": "US&amp;Ca",
        "formatted": "US and Canada",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "countries": {
          "data": [
            {
              "id": "36",
              "type": "places"
            },
            {
              "id": "220",
              "type": "places"
            }
          ],
          "links": {
            "related": "http://api.dbljump.com/places/regions/us-and-canada/countries"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/regions/us-and-canada"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/regions?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places/regions?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places/regions?page%5Bnumber%5D=3&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 8
  }
}
</code></pre>
<p>Retrieve all regions. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/regions</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-region"><a name="regions_show"></a>Get single region</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "233",
    "type": "places",
    "attributes": {
      "subtype": "regions",
      "slug": "north-america",
      "name": "North America",
      "short_name": "NA",
      "formatted": "North America",
      "latitude": null,
      "longitude": null,
      "also_known_as": []
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "countries": {
        "data": [
          {
            "id": "36",
            "type": "places"
          },
          {
            "id": "133",
            "type": "places"
          },
          {
            "id": "220",
            "type": "places"
          }
        ],
        "links": {
          "related": "http://api.dbljump.com/places/regions/north-america/countries"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/regions/north-america"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "north america, na, place, geography, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from North America at Dbljump.",
    "created_at": "2017-04-05T13:55:46.235Z",
    "updated_at": "2017-04-05T13:55:46.235Z"
  }
}
</code></pre>
<p>Retrieve a single region record. Regions are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/regions/{slug}</code> (replace <code class="prettyprint">{slug}</code> with country record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="region_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>The place subclass. Always &lsquo;regions&rsquo;.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on the formatted name, e.g. &#39;north-america&rsquo;.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>English-language common name, e.g. &#39;North America&rsquo;.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>A common short name, e.g. &#39;NA&rsquo;.</td>
</tr>
<tr>
<td>formatted</td>
<td>string</td>
<td>Y</td>
<td>Has the same value as <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Other names the country is known by, e.g. <code class="prettyprint">[&#39;Norteamrica&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Global coordinate.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>created_by</td>
<td>users</td>
<td>belongs_to</td>
</tr>
<tr>
<td>countries</td>
<td>places (countries)</td>
<td>has_many</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td>created_by</td>
<td>username, role, given_names, family_name, avatar</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code> attributes.</p>

          <h2 id="create-a-new-region-record"><a name="regions_create"></a>Create a new region record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "name": "New Region",
      "short_name": "NR",
      "also_known_as": ["That New Region", "The Newest"],
      "latitude": "5.0",
      "longitude": "-35.00"
    },
    "relationships": {
        "countries": {
            "data": [
          { "type": "places", "id": "7" },
          { "type": "places", "id": "27" }
        ]
        }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2937",
    "type": "places",
    "attributes": {
      "subtype": "regions",
      "slug": "new-region",
      "name": "New Region",
      "short_name": "NR",
      "formatted": "New Region",
      "latitude": 5,
      "longitude": -35,
      "also_known_as": [
        "That New Region",
        "The Newest"
      ]
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "countries": {
        "data": [
          {
            "id": "7",
            "type": "places"
          },
          {
            "id": "27",
            "type": "places"
          }
        ],
        "links": {
          "related": "http://api.dbljump.com/places/regions/new-region/countries"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/regions/new-region"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1704070637.jpeg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    }
  ],
  "meta": {
    "keywords": "new region, nr, that new region, the newest, place, geography, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from New Region at Dbljump.",
    "created_at": "2017-04-07T10:51:36.588Z",
    "updated_at": "2017-04-07T10:51:36.588Z"
  }
}
</code></pre>
<p>Create a new region record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/regions</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2-50 chars. English-language common name, e.g. &lsquo;North America&rsquo;.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;NA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;Norteamrica&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>countries</td>
<td>has_many</td>
<td></td>
<td>places (countries)</td>
<td>The <a href="#countries_intro">countries</a> that belong to this region.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-a-region-record"><a name="regions_update"></a>Update a region record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "id": "europe",
    "attributes": {
      "name": "Updated Region",
      "short_name": "UR",
      "also_known_as": ["Edited Region", "Changed Region"],
      "latitude": "7.7",
      "longitude": "-65.4"
    },
    "relationships": {
        "countries": {
            "data": [
          { "type": "places", "id": "5" },
          { "type": "places", "id": "50" }
        ]
        }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "234",
    "type": "places",
    "attributes": {
      "subtype": "regions",
      "slug": "updated-region",
      "name": "Updated Region",
      "short_name": "UR",
      "formatted": "Updated Region",
      "latitude": 7.7,
      "longitude": -65.4,
      "also_known_as": [
        "Edited Region",
        "Changed Region"
      ]
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "countries": {
        "data": [
          {
            "id": "5",
            "type": "places"
          },
          {
            "id": "50",
            "type": "places"
          }
        ],
        "links": {
          "related": "http://api.dbljump.com/places/regions/updated-region/countries"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/regions/updated-region"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "updated region, ur, edited region, changed region, place, geography, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Updated Region at Dbljump.",
    "created_at": "2017-04-05T13:55:46.264Z",
    "updated_at": "2017-04-07T10:56:46.781Z"
  }
}
</code></pre>
<p>Update an existing region record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/regions/{slug}</code> (replace <code class="prettyprint">{slug}</code> with region record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2-50 chars. English-language common name, e.g. &lsquo;North America&rsquo;.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;NA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;Norteamrica&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>countries</td>
<td>has_many</td>
<td></td>
<td>places (countries)</td>
<td>The <a href="#countries_intro">countries</a> that belong to this region.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-a-region-record">Delete a region record</h2>

<p>Delete an existing region record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/regions/{slug}</code> (replace <code class="prettyprint">{slug}</code> with region record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="region-countries-get-all">Region countries: get all</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "12",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "australia",
        "name": "Australia",
        "short_name": null,
        "formatted": "Australia",
        "iso_code": "AU",
        "also_known_as": [],
        "nationality": "Australian",
        "currency": null,
        "longitude": 133,
        "latitude": -27
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "regions": {
          "data": [
            {
              "id": "239",
              "type": "places"
            }
          ],
          "links": {
            "related": "http://api.dbljump.com/places/countries/australia/regions"
          }
        },
        "subdivisions": {
          "links": {
            "related": "http://api.dbljump.com/places/countries/australia/subdivisions"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/australia"
      }
    },
    {
      "id": "147",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "new-zealand",
        "name": "New Zealand",
        "short_name": null,
        "formatted": "New Zealand",
        "iso_code": "NZ",
        "also_known_as": [],
        "nationality": "New Zealander",
        "currency": null,
        "longitude": 174,
        "latitude": -41
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "regions": {
          "data": [
            {
              "id": "239",
              "type": "places"
            }
          ],
          "links": {
            "related": "http://api.dbljump.com/places/countries/new-zealand/regions"
          }
        },
        "subdivisions": {
          "links": {
            "related": "http://api.dbljump.com/places/countries/new-zealand/subdivisions"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/new-zealand"
      }
    }
  ],
  "links": {},
  "meta": {
    "total_items": 2
  }
}
</code></pre>
<p>Retrieve all countries belonging to the given region. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/regions/{region-slug}/countries</code> (replace <code class="prettyprint">{region-slug}</code> with region record slug)</p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="errors">Errors</h2>

<p>Errors specific to creating and updating region records.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_REGION_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a region with that name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_SHORT_NAME_TAKEN</td>
<td>short_name</td>
<td>There&rsquo;s already a region with that short name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_SHORT_NAME_TOO_SHORT</td>
<td>short_name</td>
<td>Short name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_SHORT_NAME_TOO_LONG</td>
<td>short_name</td>
<td>Short name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_REGION_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
</tbody></table>

          <h1 id="places-countries"><a name="countries_intro"></a>Places: countries</h1>

<p>Resources related to geographic countries.</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#countries_create">Create a new country record</a> and <a href="#countries_update">Update a country record</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#countries_show">Get single country</a></p>

          <h2 id="get-all-countries">Get all countries</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "232",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "zimbabwe",
        "name": "Zimbabwe",
        "short_name": null,
        "formatted": "Zimbabwe",
        "iso_code": "ZW",
        "also_known_as": [],
        "nationality": "Zimbabwean",
        "currency": null,
        "longitude": 30,
        "latitude": -20
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "regions": {
          "meta": {}
        },
        "subdivisions": {
          "links": {
            "related": "http://api.dbljump.com/places/countries/zimbabwe/subdivisions"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/zimbabwe"
      }
    },
    {
      "id": "231",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "zambia",
        "name": "Zambia",
        "short_name": null,
        "formatted": "Zambia",
        "iso_code": "ZM",
        "also_known_as": [],
        "nationality": "Zambian",
        "currency": null,
        "longitude": 30,
        "latitude": -15
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "regions": {
          "meta": {}
        },
        "subdivisions": {
          "links": {
            "related": "http://api.dbljump.com/places/countries/zambia/subdivisions"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/zambia"
      }
    },
    {
      "id": "230",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "yemen",
        "name": "Yemen",
        "short_name": null,
        "formatted": "Yemen",
        "iso_code": "YE",
        "also_known_as": [],
        "nationality": "Yemeni",
        "currency": null,
        "longitude": 48,
        "latitude": 15
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "regions": {
          "meta": {}
        },
        "subdivisions": {
          "links": {
            "related": "http://api.dbljump.com/places/countries/yemen/subdivisions"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/yemen"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/countries?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places/countries?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places/countries?page%5Bnumber%5D=78&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 232
  }
}
</code></pre>
<p>Retrieve all countries. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/countries</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-country"><a name="countries_show"></a>Get single country</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "places",
    "attributes": {
      "subtype": "countries",
      "slug": "andorra",
      "name": "Andorra",
      "short_name": null,
      "formatted": "Andorra",
      "iso_code": "AD",
      "also_known_as": [],
      "nationality": "Andorran",
      "currency": null,
      "longitude": 1.3,
      "latitude": 42.3
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "regions": {
        "meta": {}
      },
      "subdivisions": {
        "links": {
          "related": "http://api.dbljump.com/places/countries/andorra/subdivisions"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/countries/andorra"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "andorra, ad, andorran, country, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Andorra at Dbljump.",
    "created_at": "2017-03-30T12:38:20.212Z",
    "updated_at": "2017-03-30T12:38:20.212Z"
  }
}
</code></pre>
<p>Retrieve a single country record. Countries are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/countries/{slug}</code> (replace <code class="prettyprint">{slug}</code> with country record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="country_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>The place subclass. Always &lsquo;countries&rsquo;.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on the formatted name, e.g. &#39;united-states&rsquo;.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>English-language common name, e.g. &#39;United States&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Y</td>
<td>The country&rsquo;s ISO 3166-1 country code.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>A common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>formatted</td>
<td>string</td>
<td>Y</td>
<td>Has the same value as <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Other names the country is known by, e.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td></td>
<td>The national currency&rsquo;s ISO 4217 code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td></td>
<td>Nationality of inhabitants, e.g. &#39;American&rsquo;.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>created_by</td>
<td>users</td>
<td>belongs_to</td>
</tr>
<tr>
<td>regions</td>
<td>places (regions)</td>
<td>has_many</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td>created_by</td>
<td>username, role, given_names, family_name, avatar</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code> attributes.</p>

          <h2 id="create-a-new-country-record"><a name="countries_create"></a>Create a new country record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "name": "New Country",
      "iso_code": "NC",
      "short_name": "NewC",
      "also_known_as": ["That New Country", "The New Place"],
      "latitude": "88.27",
      "longitude": "-150.55",
      "currency": "NCY",
      "nationality": "New Countryfolk"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2937",
    "type": "places",
    "attributes": {
      "subtype": "countries",
      "slug": "new-country",
      "name": "New Country",
      "short_name": "NewC",
      "formatted": "New Country",
      "iso_code": "NC",
      "also_known_as": [
        "That New Country",
        "The New Place"
      ],
      "nationality": "New Countryfolk",
      "currency": "NCY",
      "longitude": -150.55,
      "latitude": 88.27
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "regions": {
        "meta": {}
      },
      "subdivisions": {
        "links": {
          "related": "http://api.dbljump.com/places/countries/new-country/subdivisions"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/countries/new-country"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    }
  ],
  "meta": {
    "keywords": "new country, newc, that new country, the new place, nc, new countryfolk, country, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from New Country at Dbljump.",
    "created_at": "2017-03-30T13:39:33.324Z",
    "updated_at": "2017-03-30T13:39:33.324Z"
  }
}
</code></pre>
<p>Create a new country record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/countries</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2-50 chars. English-language common name, e.g. &lsquo;United States&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2 chars. ISO 3166-1 country code.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td></td>
<td>Must be 3 chars. ISO 4217 currency code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td></td>
<td>2-30 chars. English-lang common term, e.g. &#39;American&rsquo;.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-a-country-record"><a name="countries_update"></a>Update a country record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "place_countries",
    "id": "andorra",
    "attributes": {
      "name": "Updated Country",
      "iso_code": "UP",
      "short_name": "Updated",
      "also_known_as": ["Edited Country", "Renamed Country"],
      "latitude": "5.0",
      "longitude": "10.0",
      "currency": "UPD",
      "nationality": "Updatedfolk"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "5",
    "type": "places",
    "attributes": {
      "subtype": "countries",
      "slug": "updated-country",
      "name": "Updated Country",
      "short_name": "Updated",
      "formatted": "Updated Country",
      "iso_code": "UP",
      "also_known_as": [
        "Edited Country",
        "Renamed Country"
      ],
      "nationality": "Updatedfolk",
      "currency": "UPD",
      "longitude": 10,
      "latitude": 5
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "regions": {
        "meta": {}
      },
      "subdivisions": {
        "links": {
          "related": "http://api.dbljump.com/places/countries/updated-country/subdivisions"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/countries/updated-country"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    }
  ],
  "meta": {
    "keywords": "updated country, updated, edited country, renamed country, up, updatedfolk, country, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Updated Country at Dbljump.",
    "created_at": "2017-03-30T12:38:20.212Z",
    "updated_at": "2017-03-30T13:40:19.456Z"
  }
}
</code></pre>
<p>Update an existing country record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/countries/{slug}</code> (replace <code class="prettyprint">{slug}</code> with country record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2-250 chars. English-language common name, e.g. &lsquo;United States&rsquo;.</td>
</tr>
<tr>
<td>iso_code</td>
<td>string</td>
<td>Y</td>
<td>Unique. 2 chars. ISO 3166-1 country code.</td>
</tr>
<tr>
<td>short_name</td>
<td>string</td>
<td></td>
<td>Unique. 2-20 chars. Common short name, e.g. &#39;USA&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;US&#39;, &#39;America&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td></td>
<td>Must be 3 chars. ISO 4217 currency code, e.g. &#39;USD&rsquo;.</td>
</tr>
<tr>
<td>nationality</td>
<td>string</td>
<td></td>
<td>2-30 chars. English-lang common term, e.g. &#39;American&rsquo;.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-a-country-record">Delete a country record</h2>

<p>Delete an existing country record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/countries/{slug}</code> (replace <code class="prettyprint">{slug}</code> with country record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="country-subdivisions-get-all">Country subdivisions: get all</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2940",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "brand-new-subdivision-afghanistan",
        "name": "Brand New Subdivision",
        "short_name": null,
        "formatted": "Brand New Subdivision, Afghanistan",
        "latitude": 17.85,
        "longitude": -20,
        "also_known_as": [
          "That New Subdiv",
          "The New Subdiv"
        ]
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "2",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/2"
          }
        },
        "country": {
          "data": {
            "id": "1",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/afghanistan"
          }
        },
        "localities": {
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/brand-new-subdivision-afghanistan/localities"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/brand-new-subdivision-afghanistan"
      }
    },
    {
      "id": "2938",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "new-subdivision-afghanistan",
        "name": "New Subdivision",
        "short_name": null,
        "formatted": "New Subdivision, Afghanistan",
        "latitude": 17.85,
        "longitude": -20,
        "also_known_as": [
          "That New Subdiv",
          "The New Subdiv"
        ]
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "2",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/2"
          }
        },
        "country": {
          "data": {
            "id": "1",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/afghanistan"
          }
        },
        "localities": {
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/new-subdivision-afghanistan/localities"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/new-subdivision-afghanistan"
      }
    },
    {
      "id": "2788",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "western-afghanistan",
        "name": "Western",
        "short_name": null,
        "formatted": "Western, Afghanistan",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "1",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/afghanistan"
          }
        },
        "localities": {
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/western-afghanistan/localities"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/western-afghanistan"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/countries/afghanistan/subdivisions?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places/countries/afghanistan/subdivisions?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places/countries/afghanistan/subdivisions?page%5Bnumber%5D=3&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 9
  }
}
</code></pre>
<p>Retrieve all subdivisions belonging to the given country. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/countries/{country-slug}/subdivisions</code> (replace <code class="prettyprint">{country-slug}</code> with country record slug)</p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="country-subdivisions-create-new">Country subdivisions: create new</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "name": "Brand New Subdivision",
      "also_known_as": ["That New Subdiv", "The New Subdiv"],
      "latitude": "17.85",
      "longitude": "-20.00"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2940",
    "type": "places",
    "attributes": {
      "subtype": "subdivisions",
      "slug": "brand-new-subdivision-afghanistan",
      "name": "Brand New Subdivision",
      "short_name": null,
      "formatted": "Brand New Subdivision, Afghanistan",
      "latitude": 17.85,
      "longitude": -20,
      "also_known_as": [
        "That New Subdiv",
        "The New Subdiv"
      ]
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "country": {
        "data": {
          "id": "1",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/afghanistan"
        }
      },
      "localities": {
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/brand-new-subdivision-afghanistan/localities"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/brand-new-subdivision-afghanistan"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "1",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "afghanistan",
        "name": "Afghanistan",
        "short_name": null,
        "formatted": "Afghanistan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/afghanistan"
      }
    }
  ],
  "meta": {
    "keywords": "brand new subdivision, afghanistan, that new subdiv, the new subdiv, state, county, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Brand New Subdivision, Afghanistan at Dbljump.",
    "created_at": "2017-03-30T13:54:19.505Z",
    "updated_at": "2017-03-30T13:54:19.505Z"
  }
}
</code></pre>
<p>Create a new subdivision record belonging to the given country. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/countries/{country-slug}/subdivisions</code> (replace <code class="prettyprint">{country-slug}</code> with country record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<p>See <a href="#subdivs_errors">Places: subdivisions - Errors</a>.</p>

          <h2 id="errors">Errors</h2>

<p>Errors specific to creating and updating country records.</p>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a country with that name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TAKEN</td>
<td>short_name</td>
<td>There&rsquo;s already a country with that short name.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TOO_SHORT</td>
<td>short_name</td>
<td>Short name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_SHORT_NAME_TOO_LONG</td>
<td>short_name</td>
<td>Short name cannot be more than 20 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_BLANK</td>
<td>iso_code</td>
<td>ISO code is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TAKEN</td>
<td>iso_code</td>
<td>There&rsquo;s already a country with that ISO code.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TOO_SHORT</td>
<td>iso_code</td>
<td>ISO code must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_ISO_CODE_TOO_LONG</td>
<td>iso_code</td>
<td>ISO code cannot be more than 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NATIONALITY_TOO_SHORT</td>
<td>nationality</td>
<td>Nationality must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_NATIONALITY_TOO_LONG</td>
<td>nationality</td>
<td>Nationality cannot be more than 30 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_CURRENCY_TOO_SHORT</td>
<td>currency</td>
<td>Currency must be at least 3 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_COUNTRY_CURRENCY_TOO_LONG</td>
<td>currency</td>
<td>Currency cannot be more than 3 characters.</td>
</tr>
</tbody></table>

          <h1 id="places-subdivisions"><a name="subdivs_intro"></a>Places: subdivisions</h1>

<p>Resources related to geographic subdivisions (e.g. states and counties).</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#subdivs_create">Create a new subdivision record</a> and <a href="#subdivs_update">Update a subdivision record</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#subdivs_show">Get single subdivision</a>.</p>

          <h2 id="get-all-subdivisions">Get all subdivisions</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2237",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "sabha-libya",
        "name": "Sabha",
        "short_name": null,
        "formatted": "Sabha, Libya",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "117",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/libya"
          }
        },
        "localities": {
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/sabha-libya/localities"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/sabha-libya"
      }
    },
    {
      "id": "240",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "0-niue",
        "name": "All",
        "short_name": null,
        "formatted": "All, Niue",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "151",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/niue"
          }
        },
        "localities": {
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/0-niue/localities"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/0-niue"
      }
    },
    {
      "id": "241",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "0-curacao",
        "name": "All",
        "short_name": null,
        "formatted": "All, Curaao",
        "latitude": null,
        "longitude": null,
        "also_known_as": []
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "53",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/curacao"
          }
        },
        "localities": {
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/0-curacao/localities"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/0-curacao"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/subdivisions?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places/subdivisions?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places/subdivisions?page%5Bnumber%5D=881&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 2641
  }
}
</code></pre>
<p>Retrieve all subdivisions. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/subdivisions</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-subdivision"><a name="subdivs_show"></a>Get single subdivision</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2599",
    "type": "places",
    "attributes": {
      "subtype": "subdivisions",
      "slug": "texas-united-states",
      "name": "Texas",
      "short_name": null,
      "formatted": "Texas, United States",
      "latitude": 31.9685988,
      "longitude": -99.9018131,
      "also_known_as": []
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "country": {
        "data": {
          "id": "220",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/united-states"
        }
      },
      "localities": {
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/texas-united-states/localities"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/texas-united-states"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    },
    {
      "id": "220",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "united-states",
        "name": "United States",
        "short_name": "USA",
        "formatted": "United States"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/united-states"
      }
    }
  ],
  "meta": {
    "keywords": "texas, united states, state, county, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Texas, United States at Dbljump.",
    "created_at": "2017-03-30T12:39:55.300Z",
    "updated_at": "2017-03-30T12:39:55.300Z"
  }
}
</code></pre>
<p>Retrieve a single subdivision record. Subdivisions are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/subdivisions/{slug}</code> (replace <code class="prettyprint">{slug}</code> with subdivision record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="subdiv_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>The place subclass. Always <code class="prettyprint">subdivisions</code>.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on the formatted name, e.g. <code class="prettyprint">california-united-states</code>.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>English-language common name, e.g. <code class="prettyprint">California</code>.</td>
</tr>
<tr>
<td>short_name</td>
<td>null</td>
<td></td>
<td>Always <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>formatted</td>
<td>string</td>
<td>Y</td>
<td>The name and parent country name, e.g. <code class="prettyprint">California, United States</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>longitude</td>
<td>number</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Other names the subdivision is known by, e.g. <code class="prettyprint">[&#39;The Golden State&#39;]</code>.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>created_by</td>
<td>users</td>
<td>belongs_to</td>
</tr>
<tr>
<td>country</td>
<td>places (countries)</td>
<td>belongs_to</td>
</tr>
<tr>
<td>localities</td>
<td>places (localities)</td>
<td>has_many</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td>created_by</td>
<td>username, role, given_names, family_name, avatar</td>
</tr>
<tr>
<td>places (countries)</td>
<td>country</td>
<td>subtype, slug, name, short_name, formatted</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code> attributes.</p>

          <h2 id="create-a-new-subdivision-record"><a name="subdivs_create"></a>Create a new subdivision record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "name": "New Subdivision",
      "also_known_as": ["That New Subdiv", "The New Subdiv"],
      "latitude": "17.85",
      "longitude": "-20.00"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "1",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2938",
    "type": "places",
    "attributes": {
      "subtype": "subdivisions",
      "slug": "new-subdivision-afghanistan",
      "name": "New Subdivision",
      "short_name": null,
      "formatted": "New Subdivision, Afghanistan",
      "latitude": 17.85,
      "longitude": -20,
      "also_known_as": [
        "That New Subdiv",
        "The New Subdiv"
      ]
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "country": {
        "data": {
          "id": "1",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/afghanistan"
        }
      },
      "localities": {
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/new-subdivision-afghanistan/localities"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/new-subdivision-afghanistan"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "1",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "afghanistan",
        "name": "Afghanistan",
        "short_name": null,
        "formatted": "Afghanistan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/afghanistan"
      }
    }
  ],
  "meta": {
    "keywords": "new subdivision, afghanistan, that new subdiv, the new subdiv, state, county, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from New Subdivision, Afghanistan at Dbljump.",
    "created_at": "2017-03-30T13:45:33.826Z",
    "updated_at": "2017-03-30T13:45:33.826Z"
  }
}
</code></pre>
<p>Create a new subdivision record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/subdivisions</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country</td>
<td>belongs_to</td>
<td>Y</td>
<td>places</td>
<td>The <a href="#countries_intro">country</a> this subdivision is in.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-a-subdivision-record"><a name="subdivs_update"></a>Update a subdivision record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "id": "north-puerto-rico",
    "attributes": {
      "name": "Updated Subdivision",
      "also_known_as": ["Updated Subdiv", "Changed Subdiv"],
      "latitude": "3.0",
      "longitude": "-25.00"
    },
    "relationships": {
      "country": {
        "data": {
          "id": "10",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "269",
    "type": "places",
    "attributes": {
      "subtype": "subdivisions",
      "slug": "updated-subdivision-armenia",
      "name": "Updated Subdivision",
      "short_name": null,
      "formatted": "Updated Subdivision, Armenia",
      "latitude": 3,
      "longitude": -25,
      "also_known_as": [
        "Updated Subdiv",
        "Changed Subdiv"
      ]
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "country": {
        "data": {
          "id": "10",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/armenia"
        }
      },
      "localities": {
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/updated-subdivision-armenia/localities"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/subdivisions/updated-subdivision-armenia"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    },
    {
      "id": "10",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "armenia",
        "name": "Armenia",
        "short_name": null,
        "formatted": "Armenia"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/armenia"
      }
    }
  ],
  "meta": {
    "keywords": "updated subdivision, armenia, updated subdiv, changed subdiv, state, county, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Updated Subdivision, Armenia at Dbljump.",
    "created_at": "2017-03-30T12:38:30.707Z",
    "updated_at": "2017-03-30T13:46:24.805Z"
  }
}
</code></pre>
<p>Update an existing subdivision record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/subdivisions/{slug}</code> (replace <code class="prettyprint">{slug}</code> with subdivision record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>2-250 chars. English-language common name, e.g. &lsquo;Florida&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;The Sunshine State&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country</td>
<td>belongs_to</td>
<td>Y</td>
<td>places</td>
<td>The <a href="#countries_intro">country</a> this subdivision is in.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-a-subdivision-record">Delete a subdivision record</h2>

<p>Delete an existing subdivision record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/subdivisions/{slug}</code> (replace <code class="prettyprint">{slug}</code> with subdivision record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="subdivision-localities-get-all">Subdivision localities: get all</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2925",
      "type": "places",
      "attributes": {
        "subtype": "localities",
        "slug": "tokyo-tokyo-prefecture-japan",
        "name": "Tokyo",
        "short_name": null,
        "formatted": "Tokyo, Tokyo Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "102",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/japan"
          }
        },
        "subdivision": {
          "data": {
            "id": "2627",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/tokyo-tokyo-prefecture-japan"
      }
    },
    {
      "id": "2926",
      "type": "places",
      "attributes": {
        "subtype": "localities",
        "slug": "chiyoda-tokyo-prefecture-japan",
        "name": "Chiyoda",
        "short_name": null,
        "formatted": "Chiyoda, Tokyo Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "102",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/japan"
          }
        },
        "subdivision": {
          "data": {
            "id": "2627",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/chiyoda-tokyo-prefecture-japan"
      }
    },
    {
      "id": "2927",
      "type": "places",
      "attributes": {
        "subtype": "localities",
        "slug": "minato-tokyo-prefecture-japan",
        "name": "Minato",
        "short_name": null,
        "formatted": "Minato, Tokyo Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "102",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/japan"
          }
        },
        "subdivision": {
          "data": {
            "id": "2627",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/minato-tokyo-prefecture-japan"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan/localities?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan/localities?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan/localities?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 5
  }
}
</code></pre>
<p>Retrieve all localities belonging to the given subdivision. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/subdivisions/{subdivision-slug}/localities</code> (replace <code class="prettyprint">{subdivision-slug}</code> with subdivision record slug)</p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="subdivision-localities-create-new">Subdivision localities: create new</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "name": "New City",
      "also_known_as": ["That New City", "The New Locality"],
      "latitude": "70.3",
      "longitude": "-45.5"
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2941",
    "type": "places",
    "attributes": {
      "subtype": "localities",
      "slug": "new-city-tokyo-prefecture-japan",
      "name": "New City",
      "short_name": null,
      "formatted": "New City, Tokyo Prefecture, Japan",
      "also_known_as": [
        "That New City",
        "The New Locality"
      ],
      "latitude": 70.3,
      "longitude": -45.5
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "country": {
        "data": {
          "id": "102",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/japan"
        }
      },
      "subdivision": {
        "data": {
          "id": "2627",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/new-city-tokyo-prefecture-japan"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "102",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "japan",
        "name": "Japan",
        "short_name": null,
        "formatted": "Japan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/japan"
      }
    },
    {
      "id": "2627",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "tokyo-prefecture-japan",
        "name": "Tokyo Prefecture",
        "short_name": null,
        "formatted": "Tokyo Prefecture, Japan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/tokyo-prefecture-japan"
      }
    }
  ],
  "meta": {
    "keywords": "new city, tokyo prefecture, japan, that new city, the new locality, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from New City, Tokyo Prefecture, Japan at Dbljump.",
    "created_at": "2017-03-30T13:57:23.909Z",
    "updated_at": "2017-03-30T13:57:23.909Z"
  }
}
</code></pre>
<p>Create a new locality record belonging to the given subdivision. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/subdivisions/{subdivision-slug}/localities</code> (replace <code class="prettyprint">{subdivision-slug}</code> with subdivision record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>2-250 chars. English-language common name, e.g. &lsquo;Los Angeles&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;LA&#39;, &#39;City of Angels&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

<h3 id="errors">Errors</h3>

<p>See <a href="#localities_errors">Places:localities - Errors</a>.</p>

          <h2 id="errors"><a name="subdivs_errors"></a>Errors</h2>

<p>Errors specific to creating and updating subdivision records.</p>

<aside class="notice"><code>country_id</code> may be aliased as <code>parent_id</code> in these errors.</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_COUNTRY_ID_BLANK</td>
<td>relationships/country/data/id</td>
<td>Country ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_COUNTRY_ID_INVALID</td>
<td>relationships/country/data/id</td>
<td>Country ID must be a valid country record.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a subdivision with that name and parent country.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_SUBDIVISION_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
</tbody></table>

          <h1 id="places-localities"><a name="localities_intro"></a>Places: localities</h1>

<p>Resources related to geographic localities (e.g. cities and towns).</p>

<h3 id="request-attributes">Request attributes</h3>

<p>See <a href="#localities_create">Create a new locality record</a> and <a href="#localities_update">Update a locality record</a>.</p>

<h3 id="response-attributes">Response attributes</h3>

<p>See <a href="#localities_show">Get single locality</a>.</p>

          <h2 id="get-all-localities">Get all localities</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": [
    {
      "id": "2936",
      "type": "places",
      "attributes": {
        "subtype": "localities",
        "slug": "matsumoto-nagano-prefecture-japan",
        "name": "Matsumoto",
        "short_name": null,
        "formatted": "Matsumoto, Nagano Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "102",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/japan"
          }
        },
        "subdivision": {
          "data": {
            "id": "1795",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/nagano-prefecture-japan"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/matsumoto-nagano-prefecture-japan"
      }
    },
    {
      "id": "2935",
      "type": "places",
      "attributes": {
        "subtype": "localities",
        "slug": "nagano-nagano-prefecture-japan",
        "name": "Nagano",
        "short_name": null,
        "formatted": "Nagano, Nagano Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "102",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/japan"
          }
        },
        "subdivision": {
          "data": {
            "id": "1795",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/nagano-prefecture-japan"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/nagano-nagano-prefecture-japan"
      }
    },
    {
      "id": "2934",
      "type": "places",
      "attributes": {
        "subtype": "localities",
        "slug": "sapporo-hokkaido-prefecture-japan",
        "name": "Sapporo",
        "short_name": null,
        "formatted": "Sapporo, Hokkaido Prefecture, Japan",
        "also_known_as": [],
        "latitude": null,
        "longitude": null
      },
      "relationships": {
        "created_by": {
          "data": {
            "id": "1",
            "type": "users"
          },
          "links": {
            "related": "http://api.dbljump.com/users/1"
          }
        },
        "country": {
          "data": {
            "id": "102",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/countries/japan"
          }
        },
        "subdivision": {
          "data": {
            "id": "1232",
            "type": "places"
          },
          "links": {
            "related": "http://api.dbljump.com/places/subdivisions/hokkaido-prefecture-japan"
          }
        }
      },
      "links": {
        "self": "http://api.dbljump.com/places/localities/sapporo-hokkaido-prefecture-japan"
      }
    }
  ],
  "links": {
    "self": "http://api.dbljump.com/places/localities?page%5Bnumber%5D=1&amp;page%5Bsize%5D=3",
    "next": "http://api.dbljump.com/places/localities?page%5Bnumber%5D=2&amp;page%5Bsize%5D=3",
    "last": "http://api.dbljump.com/places/localities?page%5Bnumber%5D=19&amp;page%5Bsize%5D=3"
  },
  "meta": {
    "total_items": 56
  }
}
</code></pre>
<p>Retrieve all localities. Automatically paginated.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/localities</code></p>

<h3 id="url-query-parameters">URL query parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page[number]</td>
<td>1</td>
<td>Select the page number</td>
</tr>
<tr>
<td>page[size]</td>
<td>30</td>
<td>Select the number of images per page</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="get-single-locality"><a name="localities_show"></a>Get single locality</h2>

<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2936",
    "type": "places",
    "attributes": {
      "subtype": "localities",
      "slug": "matsumoto-nagano-prefecture-japan",
      "name": "Matsumoto",
      "short_name": null,
      "formatted": "Matsumoto, Nagano Prefecture, Japan",
      "also_known_as": [],
      "latitude": null,
      "longitude": null
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "country": {
        "data": {
          "id": "102",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/japan"
        }
      },
      "subdivision": {
        "data": {
          "id": "1795",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/nagano-prefecture-japan"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/matsumoto-nagano-prefecture-japan"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    },
    {
      "id": "102",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "japan",
        "name": "Japan",
        "short_name": null,
        "formatted": "Japan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/japan"
      }
    },
    {
      "id": "1795",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "nagano-prefecture-japan",
        "name": "Nagano Prefecture",
        "short_name": null,
        "formatted": "Nagano Prefecture, Japan"
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/nagano-prefecture-japan"
      }
    }
  ],
  "meta": {
    "keywords": "matsumoto, nagano prefecture, japan, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Matsumoto, Nagano Prefecture, Japan at Dbljump.",
    "created_at": "2017-03-30T12:40:07.612Z",
    "updated_at": "2017-03-30T12:40:07.612Z"
  }
}
</code></pre>
<p>Retrieve a single locality record. Localities are publicly available. No sign-in is required.</p>

<ul>
<li>User authentication: not required</li>
<li>Authorization level: n/a</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">GET /places/localities/{slug}</code> (replace <code class="prettyprint">{slug}</code> with locality record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

<h3 id="response-attributes"><a name="subdiv_response_attrs"></a>Response attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtype</td>
<td>string</td>
<td>Y</td>
<td>The place subclass. Always <code class="prettyprint">localities</code>.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Y</td>
<td>A record ID based on the formatted name, e.g. <code class="prettyprint">los-angeles-california-united-states</code>.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>English-language common name, e.g. <code class="prettyprint">Los Angeles</code>.</td>
</tr>
<tr>
<td>short_name</td>
<td>null</td>
<td></td>
<td>Always <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>formatted</td>
<td>string</td>
<td>Y</td>
<td>The name and parent subdivision and country names, e.g. <code class="prettyprint">Los Angeles, California, United States</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>longitude</td>
<td>number</td>
<td></td>
<td>Global coordinate.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Other names the locality is known by, e.g. <code class="prettyprint">[&#39;LA&#39;, &#39;City of Angels&#39;]</code>.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<table><thead>
<tr>
<th>Association</th>
<th>Record type</th>
<th>Relationship type</th>
</tr>
</thead><tbody>
<tr>
<td>created_by</td>
<td>users</td>
<td>belongs_to</td>
</tr>
<tr>
<td>country</td>
<td>places (countries)</td>
<td>belongs_to</td>
</tr>
<tr>
<td>subdivision</td>
<td>places (subdivisions)</td>
<td>belongs_to</td>
</tr>
</tbody></table>

<h3 id="included">Included</h3>

<table><thead>
<tr>
<th>Record type</th>
<th>Relationship</th>
<th>Attributes included</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td>created_by</td>
<td>username, role, given_names, family_name, avatar</td>
</tr>
<tr>
<td>places (countries)</td>
<td>country</td>
<td>subtype, slug, name, short_name, formatted</td>
</tr>
<tr>
<td>places (subdivisions)</td>
<td>country</td>
<td>subtype, slug, name, short_name, formatted</td>
</tr>
</tbody></table>

<h3 id="meta">Meta</h3>

<p>The <code class="prettyprint">meta</code> section of the JSON response includes <code class="prettyprint">keywords</code>, <code class="prettyprint">description</code>, <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code> attributes.</p>

          <h2 id="create-a-new-locality-record"><a name="localities_create"></a>Create a new locality record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "attributes": {
      "name": "New City",
      "also_known_as": ["That New City", "The New Locality"],
      "latitude": "81.3",
      "longitude": "-45.9"
    },
    "relationships": {
      "subdivision": {
        "data": {
          "id": "1000",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 201 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2939",
    "type": "places",
    "attributes": {
      "subtype": "localities",
      "slug": "new-city-enugu-nigeria",
      "name": "New City",
      "short_name": null,
      "formatted": "New City, Enugu, Nigeria",
      "also_known_as": [
        "That New City",
        "The New Locality"
      ],
      "latitude": 81.3,
      "longitude": -45.9
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "2",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/2"
        }
      },
      "country": {
        "data": {
          "id": "150",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/nigeria"
        }
      },
      "subdivision": {
        "data": {
          "id": "1000",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/enugu-nigeria"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/new-city-enugu-nigeria"
    }
  },
  "included": [
    {
      "id": "2",
      "type": "users",
      "attributes": {
        "username": "neil",
        "role": "admin",
        "given_names": "Neil",
        "family_name": "Wheatley",
        "avatar": "https://dbljumpheroku.s3.amazonaws.com/uploads/user_avatar/2/1703301240.jpg"
      },
      "links": {
        "self": "http://api.dbljump.com/users/2"
      }
    },
    {
      "id": "150",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "nigeria",
        "name": "Nigeria",
        "short_name": null,
        "formatted": "Nigeria"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/nigeria"
      }
    },
    {
      "id": "1000",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "enugu-nigeria",
        "name": "Enugu",
        "short_name": null,
        "formatted": "Enugu, Nigeria"
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/enugu-nigeria"
      }
    }
  ],
  "meta": {
    "keywords": "new city, enugu, nigeria, that new city, the new locality, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from New City, Enugu, Nigeria at Dbljump.",
    "created_at": "2017-03-30T13:50:25.595Z",
    "updated_at": "2017-03-30T13:50:25.595Z"
  }
}
</code></pre>
<p>Create a new locality record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">POST /places/localities</code></p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Req&rsquo;d?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
<td>2-250 chars. English-language common name, e.g. &lsquo;Los Angeles&rsquo;.</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
<td>Members must be 2-50 char strings. E.g. <code class="prettyprint">[&#39;LA&#39;, &#39;City of Angels&#39;]</code>.</td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
<td>Between -90 and 90.</td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
<td>Between -180 and 180.</td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdivision</td>
<td>belongs_to</td>
<td>Y</td>
<td>places</td>
<td>The <a href="#subdivs_intro">subdivision</a> this locality is in.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">201 Created</code></p>

          <h2 id="update-a-locality-record"><a name="localities_update"></a>Update a locality record</h2>

<blockquote>
<p>Request body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "type": "places",
    "id": "matsumoto-nagano-prefecture-japan",
    "attributes": {
      "name": "Updated City",
      "also_known_as": ["Updated City", "Changed Locality"],
      "latitude": "24.0",
      "longitude": "89.5"
    },
    "relationships": {
      "subdivision": {
        "data": {
          "id": "1001",
          "type": "places"
        }
      }
    }
  }
}
</code></pre>
<blockquote>
<p>HTTP 200 response body</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "data": {
    "id": "2936",
    "type": "places",
    "attributes": {
      "subtype": "localities",
      "slug": "updated-city-epirus-greece",
      "name": "Updated City",
      "short_name": null,
      "formatted": "Updated City, Epirus, Greece",
      "also_known_as": [
        "Updated City",
        "Changed Locality"
      ],
      "latitude": 24,
      "longitude": 89.5
    },
    "relationships": {
      "created_by": {
        "data": {
          "id": "1",
          "type": "users"
        },
        "links": {
          "related": "http://api.dbljump.com/users/1"
        }
      },
      "country": {
        "data": {
          "id": "78",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/countries/greece"
        }
      },
      "subdivision": {
        "data": {
          "id": "1001",
          "type": "places"
        },
        "links": {
          "related": "http://api.dbljump.com/places/subdivisions/epirus-greece"
        }
      }
    },
    "links": {
      "self": "http://api.dbljump.com/places/localities/updated-city-epirus-greece"
    }
  },
  "included": [
    {
      "id": "1",
      "type": "users",
      "attributes": {
        "username": "tikithekiwi",
        "role": "admin",
        "given_names": "Tiki",
        "family_name": "the Kiwi",
        "avatar": null
      },
      "links": {
        "self": "http://api.dbljump.com/users/1"
      }
    },
    {
      "id": "78",
      "type": "places",
      "attributes": {
        "subtype": "countries",
        "slug": "greece",
        "name": "Greece",
        "short_name": null,
        "formatted": "Greece"
      },
      "links": {
        "self": "http://api.dbljump.com/places/countries/greece"
      }
    },
    {
      "id": "1001",
      "type": "places",
      "attributes": {
        "subtype": "subdivisions",
        "slug": "epirus-greece",
        "name": "Epirus",
        "short_name": null,
        "formatted": "Epirus, Greece"
      },
      "links": {
        "self": "http://api.dbljump.com/places/subdivisions/epirus-greece"
      }
    }
  ],
  "meta": {
    "keywords": "updated city, epirus, greece, updated city, changed locality, city, town, place, dbljump, video games, pc games, gaming",
    "description": "Find video game companies and games industry professionals from Updated City, Epirus, Greece at Dbljump.",
    "created_at": "2017-03-30T12:40:07.612Z",
    "updated_at": "2017-03-30T13:51:05.564Z"
  }
}
</code></pre>
<p>Update an existing locality record. The user must be an admin.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">PATCH /places/localities/{slug}</code> (replace <code class="prettyprint">{slug}</code> with locality record slug)</p>

<h3 id="request-attributes">Request attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Y</td>
</tr>
<tr>
<td>also_known_as</td>
<td>array</td>
<td></td>
</tr>
<tr>
<td>latitude</td>
<td>number/float</td>
<td></td>
</tr>
<tr>
<td>longitude</td>
<td>number/float</td>
<td></td>
</tr>
</tbody></table>

<h3 id="relationships">Relationships</h3>

<p>Check this section&rsquo;s code example to see how to update these relationships.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Relationship</th>
<th>Req&rsquo;d?</th>
<th>JSON:API type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdivision</td>
<td>belongs_to</td>
<td>Y</td>
<td>places</td>
<td>The <a href="#subdivs_intro">subdivision</a> this locality is in.</td>
</tr>
</tbody></table>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">200 OK</code></p>

          <h2 id="delete-a-locality-record">Delete a locality record</h2>

<p>Delete an existing locality record. Admin-level authorization required.</p>

<ul>
<li>User authentication: required</li>
<li>Authorization level: admin</li>
</ul>

<h3 id="http-request">HTTP request</h3>

<p><code class="prettyprint">DELETE /places/localities/{slug}</code> (replace <code class="prettyprint">{slug}</code> with locality record slug)</p>

<h3 id="success-http-response-code">Success HTTP response code</h3>

<p><code class="prettyprint">204 No Content</code></p>

          <h2 id="errors"><a name="localities_errors"></a>Errors</h2>

<p>Errors specific to creating and updating locality records.</p>

<aside class="notice"><code>parent_id</code> refers to <code>subdivision_id</code> in these errors.</aside>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_PARENT_ID_BLANK</td>
<td>parent_id</td>
<td>Subdivision ID is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_PARENT_ID_INVALID</td>
<td>parent_id</td>
<td>Subdivision ID must be a valid subdivision record.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_BLANK</td>
<td>name</td>
<td>Name is required.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TAKEN</td>
<td>name</td>
<td>There&rsquo;s already a locality with that name and parent subdivision.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TOO_SHORT</td>
<td>name</td>
<td>Name must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_NAME_TOO_LONG</td>
<td>name</td>
<td>Name cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_ALSO_KNOWN_AS_TOO_SHORT</td>
<td>also_known_as</td>
<td>Also-known-as tags must be at least 2 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_ALSO_KNOWN_AS_TOO_LONG</td>
<td>also_known_as</td>
<td>Also-known-as tags cannot be more than 50 characters.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LATITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LATITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>latitude</td>
<td>Latitude must be between -90 and 90.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LONGITUDE_GREATER_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
<tr>
<td>400</td>
<td>PLACE_LOCALITY_LONGITUDE_LESS_THAN_OR_EQUAL_TO</td>
<td>longitude</td>
<td>Longitude must be between -180 and 180.</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>General errors not specific to one part of the application.</p>

<h3 id="authorization-errors">Authorization errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>USER_ACTIVATION_REQUIRED</td>
<td>n/a</td>
<td>User not yet activated.</td>
</tr>
<tr>
<td>401</td>
<td>USER_CREDENTIALS_INVALID</td>
<td>n/a</td>
<td>Invalid email and password combination.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_EXPIRED</td>
<td>n/a</td>
<td>The JWT in the header has expired.</td>
</tr>
<tr>
<td>401</td>
<td>USER_LOGIN_TOKEN_INVALID</td>
<td>n/a/</td>
<td>User login token invalid.</td>
</tr>
<tr>
<td>401</td>
<td>USER_UNAUTHORIZED</td>
<td>n/a</td>
<td>User not authorized.</td>
</tr>
</tbody></table>

<h3 id="get-errors">GET errors</h3>

<table><thead>
<tr>
<th>HTTP code</th>
<th>Error code</th>
<th>Pointer</th>
<th>Title</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>RECORD_NOT_FOUND</td>
<td>n/a</td>
<td>Record not found.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="JSON">JSON</a>
          </div>
      </div>
    </div>
  </body>
</html>
